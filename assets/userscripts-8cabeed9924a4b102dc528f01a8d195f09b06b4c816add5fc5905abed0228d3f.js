!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).userscriptParser=e()}}(function(){return function o(f,u,s){function a(r,e){if(!u[r]){if(!f[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(c)return c(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=u[r]={exports:{}};f[r][0].call(i.exports,function(e){var t=f[r][1][e];return a(t||e)},i,i.exports,o,f,u,s)}return u[r].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t){"use strict";function r(e){var r={};try{var t=/^[\S\s]+\/\/ ==\/UserScript==/;e.match(t)[0].replace(/ +/," ").match(/\/\/\s+@\w+ .+/g).forEach(function(e){var t=e.match(/@(\w+)\s+(.+)/);r[t[1]]=r[t[1]]||[],r[t[1]].push(t[2])}),r.content=e.replace(t,"")}catch(e){return console&&console.log(e),{}}return r}t.exports=r},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).listify=e()}}(function(){return function o(f,u,s){function a(r,e){if(!u[r]){if(!f[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(c)return c(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=u[r]={exports:{}};f[r][0].call(i.exports,function(e){var t=f[r][1][e];return a(t||e)},i,i.exports,o,f,u,s)}return u[r].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t){var r=function(e,t){"use strict";if(!Array.isArray(e))throw new TypeError("requires an array");var r=1<arguments.length?t:null;r||(r={});var n=r.hasOwnProperty("separator")?r.separator:", ",i=r.hasOwnProperty("finalWord")?r.finalWord:"and";0<i.length&&(i+=" ");var o=e.filter(function(e){return String(e).trim()});return 2===o.length&&0<i.length?o.join(" "+i):o.length<3?o.join(n):o.slice(0,-1).concat(i+o[o.length-1]).join(n)};t.exports=r},{}]},{},[1])(1)}),function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).fileSize=e()}}(function(){var r;return function o(f,u,s){function a(r,e){if(!u[r]){if(!f[r]){var t="function"==typeof require&&require;if(!e&&t)return t(r,!0);if(c)return c(r,!0);var n=new Error("Cannot find module '"+r+"'");throw n.code="MODULE_NOT_FOUND",n}var i=u[r]={exports:{}};f[r][0].call(i.exports,function(e){var t=f[r][1][e];return a(t||e)},i,i.exports,o,f,u,s)}return u[r].exports}for(var c="function"==typeof require&&require,e=0;e<s.length;e++)a(s[e]);return a}({1:[function(e,t){!function(e){void 0!==t&&t.exports?t.exports=e():"function"==typeof r&&r.amd?r([],e):this.filesize=e()}(function(){function s(e,t){return e&&e.toLowerCase()===t.toLowerCase()}var o="BKMGTPEZY".split("");return function(f,u){return f="number"==typeof f?f:0,(u=u||{}).fixed="number"==typeof u.fixed?u.fixed:2,u.spacer="string"==typeof u.spacer?u.spacer:" ",u.calculate=function(e){var t=s(e,"si")?["k","B"]:["K","iB"],r=s(e,"si")?1e3:1024,n=Math.log(f)/Math.log(r)|0,i=f/Math.pow(r,n),o=i.toFixed(u.fixed);return n-1<3&&!s(e,"si")&&s(e,"jedec")&&(t[1]="B"),{suffix:n?(t[0]+"MGTPEZY")[n-1]+t[1]:1==(0|o)?"Byte":"Bytes",magnitude:n,result:i,fixed:o,bits:{result:i/8,fixed:(i/8).toFixed(u.fixed)}}},u.to=function(e,t){var r=s(t,"si")?1e3:1024,n=o.indexOf("string"==typeof e?e[0].toUpperCase():"B"),i=f;if(-1===n||0===n)return i.toFixed(2);for(;0<n;n--)i/=r;return i.toFixed(2)},u.human=function(e){var t=u.calculate(e);return t.fixed+u.spacer+t.suffix},u}})},{}]},{},[1])(1)}),function(){var e,d,r,h,t;r=function(){return console.error(arguments)},d=function(){return decodeURIComponent(atob(str).split("").map(function(e){return"%"+("00"+e.charCodeAt(0).toString(16)).slice(-2)}).join(""))},setTimeout(e=function(){return $.get("https://img.shields.io/travis/Charcoal-SE/userscripts.json",function(e){return $(".build span").text(e.value)}),$.get({url:"https://api.travis-ci.org/repos/Charcoal-SE/userscripts",headers:{Accept:"application/vnd.travis-ci.2+json"}}).done(function(e){var t;return t=e.repo,$(".build a").attr("href","https://travis-ci.org/Charcoal-SE/userscripts/builds/"+t.last_build_id)}),$.get("https://api.github.com/repos/charcoal-se/userscripts/git/trees/master?recursive=1",t).fail(function(){return setTimeout(e,1e3),r.apply(this,arguments)})}),t=function(e){var t;t=$("ul.scripts").empty().css({listStyleType:"none",listStylePosition:"inside"}),e.tree.forEach(function(p){var l;if(/\.user\.js$/.exec(p.path))return l=$("<li/>").text("Loading "+p.path+" info\u2026"),t.append(l),$.get(p.url,function(e){var t,r,n,i,o,f,u,s,a,c;if(c=d(e.content),t=(r=((s=userscriptParser(c)).author||[]).concat(s.contributor||[])).length?" by "+listify(r):"",n=$("<em />").text("No description"),s.description=s.description||s.desc,s.description.length){for(n=$("<p />").css({marginLeft:"1em"}),(o=h(s,p,e)).length&&n.append($("<em />").text(o)).append($("<br />")),i=0,f=(a=s.description).length;i<f;i++)u=a[i],n.append(u).append($("<br />"));n.children(":last-child").remove()}return l.empty().append($("<p />").append($("<details />").append($("<summary />").append($("<a />").text(s.name.join(", ")+t).attr("href","https://github.com/Charcoal-SE/userscripts/raw/master/"+p.path).css({marginLeft:"0.5em"}))).append(n)))}).fail(r)})},h=function(i,e){var t,o;return t=" \u2022 ",[i.version.length&&[function(){var e,t,r,n;for(n=[],e=0,t=(r=i.version).length;e<t;e++)o=r[e],n.push("v"+o);return n}()].join(t),fileSize(e.size).human("si")].filter(function(e){return e}).join(t)}}.call(this);