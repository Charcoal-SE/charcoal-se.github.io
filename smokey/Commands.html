<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>
    Commands | Charcoal
    
  </title>
  <link type="text/css" rel="stylesheet" href="/assets/application-0af23b9271f4af0499f4e1c18c5c797afb37c9dcbba3a992a3e5e26a48b5cbc6.css">
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=default,fetch"></script>
  <script>window.algoliaLogoHTML = '<img src="/assets/search-by-algolia-f11921c9ad37d8af1d526ce35d9994eb44ad34b8229c1714edbf5cef12f804dc.svg" height="16" alt="Search by Algolia" width="168">'</script>
  <script type="text/javascript" src="/assets/application-678e5bc73276f2c4a030350cf70f2a32f496473871f3004a00e5ab64924f2670.js"></script>
  <script type="text/javascript" src="/assets/vendor-ecc837bbd5d3e5dbfb38524f3faaf1406e7e5490330a1bd2b4728be17a5fffa7.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon"
            type="image/png"
            href="/assets/charcoal-fd5b673dc87bbcf444be78adbf43a1198e981d2133de0a3eab4810ca047efbb7.png" />
</head>
<body>
  <div class="body-container">
    
    <div class="header">
      <div class="header-icon text-center">
        <a href="/">
          <img src="/assets/charcoal-fd5b673dc87bbcf444be78adbf43a1198e981d2133de0a3eab4810ca047efbb7.png" height="64" width title="Charcoal: spam-crusaders of the Internet" alt="charcoal.png">
          <span class="title">
            <span>Charcoal</span>
            <small>spam-crusaders of the Internet</small>
          </span>
        </a>
        <label class="nav-toggle-icon fa fa-bars fa-lg" for="nav-toggle"></label>
      </div>
      <input type="checkbox" id="nav-toggle">
      <nav class="text-center top-nav">
        <div class="search-nav">
          <i class="fa fa-search search-icon inline-icon fa-fw"></i>
          <input type="text" placeholder="Search…" id="search-input">
          <a href="#" id="search-close" class="inline-icon close-icon"><i class="fa fa-times fa-fw"></i></a>
        </div>
        <ul class="main-nav">
          <li><a href="/"><i class="fa fa-home" title="Home"></i><span class="mobile-only"> Home</span></a></li>
          <li><a href="https://chat.stackexchange.com/rooms/11540/charcoal-hq"><i class="fa mobile-only fa-comments-o"></i> chat</a></li>
          <li>
            <label class="link" for="projects-toggle">
              more projects <i class="fa fa-chevron-down"></i>
            </label>
            <input type="checkbox" id="projects-toggle">
            <nav class="nav-dropdown">
              <a href="https://metasmoke.erwaysoftware.com/" >metasmoke</a>
            
              <a href="https://charcoal-se.org/ms-urls" >metasmoke URL converter</a>
            
              <a href="https://charcoal-se.org/blaze" data-turbolinks="false">Blaze</a>
            </nav>
          </li>
          <li><a href="/scripts"><i class="fa mobile-only fa-file-code-o"></i> userscripts</a></li>
          <li><a href="/smokey/"><i class="fa mobile-only fa-file-text-o"></i> wiki</a></li>
          <li>
            <a href="/ms/API-Documentation-(V2)"><i class="fa mobile-only fa-book"></i> api</a>
            (<a href="/ms/API-Documentation-(V1)">v1</a>)
          </li>
          <li><a href="https://github.com/Charcoal-SE" title="GitHub organization"><i class="fa fa-github"></i><span class="mobile-only"> GitHub</span></a></li>
          <li><a href="#" class="search-link"><i class="fa fa-search" title="Search"></i><span class="mobile-only"> Search</span></a></li>
        </ul>
      </nav>
    </div>
    <div class="body">
      


<h1 id="commands">Commands</h1>

<p>This wiki page contains a list of commands and their explanation.</p>

<h2 id="executing-commands-and-giving-feedback">Executing commands and giving feedback</h2>

<p>SmokeDetector commands and feedback are provided to SmokeDetector as chat messages in one of the rooms in which SmokeDetector is listening for commands (see the <a href="https://charcoal-se.org/smokey/Chat-Rooms">list of chat rooms</a>). Feedback can be given either as a <a href="#user-content-privileged-commands-as-reply">reply to a post</a>, or using <a href="#user-content-shortcut-commands">the <code class="language-plaintext highlighter-rouge">sd</code> prefix</a> in a message which is not a reply. Commands are in the format <code class="language-plaintext highlighter-rouge">!!/&lt;command text&gt;</code> or <code class="language-plaintext highlighter-rouge">sdc &lt;command text&gt;</code>, which are entered in new chat messages, not as replies.</p>

<p>In order to keep this list of commands more concise, SmokeDetector commands are listed here in their <code class="language-plaintext highlighter-rouge">!!/&lt;command text&gt;</code> form, but all of them are able to be used with the <code class="language-plaintext highlighter-rouge">sdc &lt;command text&gt;</code> syntax.</p>

<p>As an example, the following two commands are equivalent:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>!!/alive
sdc alive
</code></pre></div></div>

<h3 id="silent-mode">Silent mode</h3>

<p>If you don’t want SmokeDetector to reply when executing a command, you can add a hyphen (<code class="language-plaintext highlighter-rouge">-</code>) at the end, like <code class="language-plaintext highlighter-rouge">fp-</code>. This is a good practice to cut down on chatroom clutter. Note that SmokeDetector will always report any errors, even if a trailing <code class="language-plaintext highlighter-rouge">-</code> is present. The hyphen can be placed after the command itself or after its parameters.</p>

<p>All commands support the silent mode, though it’s more commonly used when replying to spam reports, managing black- and white-list, and managing chat notifications.</p>

<h2 id="commands-for-everyone">Commands for everyone</h2>

<p>These commands can be executed by everyone.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">!!/alive</code> or <code class="language-plaintext highlighter-rouge">!!/live</code> — Replies a random message taken from a list so you can see that SmokeDetector is still running.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/status</code> — Shows the UTC date when SmokeDetector started running.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/ms-status</code> — Shows the status of metasmoke. If SmokeDetector is unable to communicate with metasmoke, then SmokeDetector will assume that metasmoke is down and continue processing posts and reporting them into chat without attempting to communicate with metasmoke.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/ping-failure-counter</code>, <code class="language-plaintext highlighter-rouge">!!/ping-failure</code> <code class="language-plaintext highlighter-rouge">!!/internal-counter</code>, <code class="language-plaintext highlighter-rouge">!!/counter</code> — Shows the counter value used for metasmoke status auto switch. A negative value indicates consecutive successes while a positive value indicates consecutive failures. This is to be distinguished with the failure count shown by <code class="language-plaintext highlighter-rouge">!!/ms-status</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/rev</code> or <code class="language-plaintext highlighter-rouge">!!/ver</code> — Shows the running Git revision.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/help</code>, <code class="language-plaintext highlighter-rouge">!!/info</code>, <code class="language-plaintext highlighter-rouge">!!/commands</code> — Shows a small help message about SmokeDetector.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/apiquota</code> — Shows the remaining API quota of SmokeDetector.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/queuestatus</code> — Shows the queue status of BodyFetcher.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/threads</code> — Returns a description of current threads, for debugging.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/blame</code> — Chooses randomly from a list of people who have talked recently in the room.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/lick</code>, <code class="language-plaintext highlighter-rouge">!!/wut</code>, <code class="language-plaintext highlighter-rouge">!!/coffee</code>, <code class="language-plaintext highlighter-rouge">!!/tea</code>, and <code class="language-plaintext highlighter-rouge">!!/brownie</code> — better versions of <code class="language-plaintext highlighter-rouge">!!/alive</code>, aka “fun” commands.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/location</code> — Replies with the current location, as set in the <code class="language-plaintext highlighter-rouge">config</code> file. Aliases for <code class="language-plaintext highlighter-rouge">location</code> include: <code class="language-plaintext highlighter-rouge">version</code>, <code class="language-plaintext highlighter-rouge">rev</code>, and <code class="language-plaintext highlighter-rouge">ver</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/test site=&lt;site_domain&gt; &lt;string&gt;</code> — Runs <code class="language-plaintext highlighter-rouge">&lt;string&gt;</code> against the filter as if it appeared in a question title, body, or username. To test specifically, use <code class="language-plaintext highlighter-rouge">!!/test-a</code> for answer, <code class="language-plaintext highlighter-rouge">!!/test-q</code> for question body, <code class="language-plaintext highlighter-rouge">!!/test-t</code> for title, or <code class="language-plaintext highlighter-rouge">!!/test-u</code> for username. Note that the site is optional. If site is present, the command will use filters for that site.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/isblu</code>, <code class="language-plaintext highlighter-rouge">!!/iswlu</code> — Checks if a user is blacklisted/whitelisted. Two formats are accepted: <code class="language-plaintext highlighter-rouge">&lt;profile_URL&gt;</code> or <code class="language-plaintext highlighter-rouge">&lt;user_ID&gt; &lt;site_name&gt;</code></li>
  <li><code class="language-plaintext highlighter-rouge">!!/whoami</code> — Replies with the bot’s user id for that site</li>
  <li><code class="language-plaintext highlighter-rouge">!!/whois admin</code> — Replies with a list of admins (and who’s currently in the room).</li>
  <li><code class="language-plaintext highlighter-rouge">!!/whois blacklister</code> — Replies with a list of blacklisters (and who’s currently in the room). Aliases for <code class="language-plaintext highlighter-rouge">blacklister</code> include: <code class="language-plaintext highlighter-rouge">blacklist_manager</code>, <code class="language-plaintext highlighter-rouge">blacklisters</code>, <code class="language-plaintext highlighter-rouge">code_admin</code>, and <code class="language-plaintext highlighter-rouge">codeadmins</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/amiprivileged</code> — Lets you know if you are in the list of privileged users</li>
  <li><code class="language-plaintext highlighter-rouge">!!/amiblacklistprivileged</code> — Lets you know whether or not you have blacklist manager privileges (i.e. you can blacklist without approval)</li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">!!/notify &lt;chatroom_ID_number&gt; &lt;site_domain&gt; [0|False]</code> — Tells SmokeDetector to ping you, in the given chatroom, when SD reports a post into that room where the SE post is on the specified <code class="language-plaintext highlighter-rouge">site_domain</code>. If “0” or “False” (requires a capital “F”) are supplied as a third argument, then the notifications are only added to reports when you are in the chat room for which you’re adding the notification. Please don’t use the “only notify when present in the room” feature in rooms where there’s a substantial volume of reports.</p>

    <p>Example:  <code class="language-plaintext highlighter-rouge">!!/notify- 89 parenting.stackexchange.com</code></p>

    <p>Note: Please use the squelch suffix (<code class="language-plaintext highlighter-rouge">-</code>) and avoid spamming the chat room with too many requests (i.e. <code class="language-plaintext highlighter-rouge">!!/notify-</code>). See <a href="http://chat.meta.stackexchange.com/transcript/message/4157790#4157790">this chat message</a> and the surrounding context.</p>

    <p>Note 2: The list of who to notify is maintained separately by each SmokeDetector instance. This means that if the active instance is switched to a different one, you will need to run a <code class="language-plaintext highlighter-rouge">!!/notify-</code> command again, if you haven’t previously done so for the newly active SmokeDetector instance.</p>

    <p>Note 3: Please also note that it is <strong>your responsibility</strong> to remain <code class="language-plaintext highlighter-rouge">@</code> pingable in the requested room. To be <code class="language-plaintext highlighter-rouge">@</code> pingable in a room, you need to either A) be present in that room at the time of the ping; or B) if you’ve posted a message in that room, then you are <code class="language-plaintext highlighter-rouge">@</code> pingable for 7 days after the last time you’ve entered that room. If you don’t meet those conditions, then an <code class="language-plaintext highlighter-rouge">@</code> ping will not work.</p>

    <p>Note 4: The notifications are appended as part of regular SmokeDetector reports. SmokeDetector doesn’t post special messages just for the pings. If SmokeDetector is not already configured to report posts from the <code class="language-plaintext highlighter-rouge">&lt;site_domain&gt;</code> you’ve specified into the <code class="language-plaintext highlighter-rouge">&lt;chatroom_ID_number&gt;</code> room you’ve selected, then the <code class="language-plaintext highlighter-rouge">!!/notify</code> command won’t cause additional notification messages to be sent to that room. If you want SmokeDetector to make reports into a room, that’s best set up semi-permanently by modifying the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/rooms.yml"><code class="language-plaintext highlighter-rouge">rooms.yml</code> file</a> (<a href="https://charcoal-se.org/smokey/Rooms-configuration">instructions</a>), but there are many options and changes potentially impact SmokeDetector performance, due to chat rate-limiting, so please ask/consult in <a href="https://chat.stackexchange.com/rooms/11540/charcoal-hq">Charcoal HQ</a> before modifying that file or doing an <code class="language-plaintext highlighter-rouge">!!/invite</code> (see below). It’s also possible to temporarily invite SmokeDetector into a room with <code class="language-plaintext highlighter-rouge">!!/invite</code>, but it’s easy to get the syntax for that incorrect.</p>
  </li>
  <li><code class="language-plaintext highlighter-rouge">!!/unnotify &lt;chatroom_ID_number&gt; &lt;site_domain&gt;</code> — Cancels the previously set notification.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/unnotify-all</code> - Removes all notifications.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/willbenotified &lt;chatroom_ID_number&gt; &lt;site_domain&gt;</code> — Reports whether you will be pinged, in the given room, about spam on the given site.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/allnotificationsites &lt;chatroom_ID_number&gt;</code> — Shows all sites that you will be pinged for in the given room.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/scan &lt;post URL 1&gt; [&lt;post URL 2&gt; [...&lt;post URL 5&gt;]] ["custom scan reason"]</code> — Directs SmokeDetector to scan a post. This is useful when you’re not sure if a post is spam and don’t want to report it. Smokey will go through all the usual processes of scanning a post and report it if it’s spam, and will tell you that it’s not spam otherwise. If you’re sure it’s spam but it isn’t being caught, use <code class="language-plaintext highlighter-rouge">!!/report</code> instead. A custom scan reason may be supplied. If you include a custom reason, it’s required to be enclosed in double quotation marks (e.g. <code class="language-plaintext highlighter-rouge">"custom scan reason"</code>).</li>
  <li><code class="language-plaintext highlighter-rouge">!!/deobfuscate-number &lt;pattern&gt;</code> — Show the result of deobfuscating the number pattern.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/normalize-number &lt;pattern&gt;</code> — Show the number normalizations for a number pattern.</li>
</ul>

<h2 id="commands-as-reply-for-everyone">Commands as reply for everyone</h2>

<ul>
  <li>
    <p><code class="language-plaintext highlighter-rouge">why</code> — Shows the reason that SmokeDetector caught a post.</p>

    <p>Note that <code class="language-plaintext highlighter-rouge">why</code> data is only kept for the last 50 reports. If you need to see older data, it can be found in the post record on Metasmoke.</p>
  </li>
  <li>
    <p><code class="language-plaintext highlighter-rouge">autoflagged</code> — Returns if the post was autoflagged or not, and if so, what users were used.</p>
  </li>
</ul>

<h2 id="privileged-commands">Privileged commands</h2>

<p>These commands require <a href="https://charcoal-se.org/smokey/Privileges#smokedetector-privileges-sd">privileges</a>. Note that some commands may be disabled in some rooms. You may talk to others to understand why.
<!-- These were not in any order. It's recommended that we keep the most-used/useful first/near the beginning of the list. --></p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">!!/report &lt;post URL 1&gt; [&lt;post URL 2&gt; [...&lt;post URL 5&gt;]] ["custom reason"]</code> — Makes SmokeDetector scan and report a specific post/multiple specific posts in Charcoal HQ and other applicable rooms. Recommended over <code class="language-plaintext highlighter-rouge">!!/scan</code> if you’re sure the post is spam. The originator of each post will be added to the blacklist if the post wouldn’t have been caught otherwise. Maximum 5 posts at a time. An optional custom reason may be supplied so others are clearer why you’re reporting it. Additionally, the post will be added to the database on Metasmoke, just like all other reported posts. If you include a custom reason, it is required to be enclosed in double quotation marks.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/report-force &lt;post URL 1&gt; [&lt;post URL 2&gt; [...&lt;post URL 5&gt;]] ["custom reason"]</code> — Same as <code class="language-plaintext highlighter-rouge">!!/report</code>, but causes SmokeDetector to ignore the active instance’s record of the post being recently reported.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/scan-force &lt;post URL 1&gt; [&lt;post URL 2&gt; [...&lt;post URL 5&gt;]] ["custom reason"]</code> — Forces SmokeDetector to scan a post (see <code class="language-plaintext highlighter-rouge">!!/scan</code> above). The post will be reported if detected as spam, even if the the post was recently reported. This is useful to back-fill metasmoke with reports it missed due to being down, or SmokeDetector just thinking metasmoke was down (e.g metasmoke being up was not automatically detected and a <code class="language-plaintext highlighter-rouge">!!/ms-up</code> command wasn’t issued). Note that for back-filling metasmoke, the scan will be on the current version of the post and, of course, can’t scan posts that have been deleted.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/allspam &lt;user URL&gt;</code> — To be used if a spammer has many posts so you don’t have to use <code class="language-plaintext highlighter-rouge">!!/report</code>. This command posts a message about the user in all applicable rooms.  Note that this command does NOT auto-TPU anything, for various reasons. Both individual site and network-wide user profiles are supported. It has an alias, <code class="language-plaintext highlighter-rouge">!!/reportuser &lt;user URL&gt;</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/feedback &lt;post_URL&gt; &lt;feedback_type&gt;</code> - Takes a valid SE post URL as input, and manually sends the given feedback to metasmoke. Note that this won’t blacklist/whitelist users automatically.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/dig &lt;domain&gt;</code> — Runs a DNS query for <code class="language-plaintext highlighter-rouge">&lt;domain&gt;</code> using pydns and returns the list of A and AAAA records as output.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/reboot</code> — Reboots SmokeDetector.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/stappit</code> — Stops all SmokeDetector instances. This should only be used in very extreme cases where you need all SmokeDetector instances to completely stop functioning. If you use this command, then each owner of a SmokeDetector instance will need to manually restart their instance. Please don’t use this unless you’re <strong>sure</strong> you know what you’re doing. <code class="language-plaintext highlighter-rouge">!!/standby &lt;string&gt;</code> is what should normally be used to put instances in standby.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/stappit &lt;string&gt;</code> — Stops all SmokeDetector instances where <code class="language-plaintext highlighter-rouge">string</code> is included in the location (e.g. <code class="language-plaintext highlighter-rouge">!!/stappit undo</code> would stop <code class="language-plaintext highlighter-rouge">Undo/EC2</code> and <code class="language-plaintext highlighter-rouge">Undo/DO</code>, but not <code class="language-plaintext highlighter-rouge">teward/aroura</code>. This should only be used in extreme cases. If you use this command, then the owner of the SmokeDetector instance will need to manually restart their instance. Please don’t use this unless you’re <strong>sure</strong> you know what you’re doing. <code class="language-plaintext highlighter-rouge">!!/standby &lt;string&gt;</code> is what should normally be used to put instances in standby.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/standby &lt;string&gt;</code> - Places that instance into standby mode. <em>The one that has been <a href="https://metasmoke.erwaysoftware.com/status">active</a> the most over the last while is the one we will normally prefer stays running. The reason for that is that there is some state information which is specific to each instance (e.g. user-blacklist; notify list; recently reported post list; user-whitelist; etc). We generally want to keep the instance active which has the larger amount of recent information.</em></li>
  <li><code class="language-plaintext highlighter-rouge">!!/standby-except &lt;string&gt;</code> <string> - Places all other instances into standby mode, use if multiple instances are running.</string></li>
  <li><code class="language-plaintext highlighter-rouge">!!/pull</code> — Pulls new revisions from GitHub.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/pull-sync-force</code> — For use when other methods of resolving git issues fail, particularly resolving “HEAD isn’t at tip of origin’s master branch”. After a <code class="language-plaintext highlighter-rouge">git fetch --force</code>, this command performs <code class="language-plaintext highlighter-rouge">git branch --create-reflog -f master -t origin/master</code>, which replaces the SmokeDetector instance’s local master branch with what’s on origin/master. It also does the same thing for the deploy branch. This command shouldn’t be needed on a regular basis, as git operations have been made more robust (e.g. using <code class="language-plaintext highlighter-rouge">git reset --hard origin/master</code> elsewhere). Use <code class="language-plaintext highlighter-rouge">!!/pull-sync-force</code> if you really need to. It is recommended that you <code class="language-plaintext highlighter-rouge">!!/reboot</code> after executing this command in order to start using the current version of the files.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/pull-sync-hard</code> — For use when other methods of resolving git issues fail. Uses a series of <code class="language-plaintext highlighter-rouge">git</code> commands to <code class="language-plaintext highlighter-rouge">--force</code> both the master and deploy branches to be on the same commit as origin/master and origin/deploy (normally, origin is set to <a href="https://github.com/Charcoal-SE/SmokeDetector">Charcoal-SE/SmokeDetector on GitHub</a>). An alias, <code class="language-plaintext highlighter-rouge">!!/pull-sync-hard-reboot</code>, will automatically reboot the SmokeDetector instance after syncing both branches to the origin. If you don’t have it automatically reboot, it’s recommended that you <code class="language-plaintext highlighter-rouge">!!/reboot</code> after executing this command in order to start using the current version of the files.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/master</code> — When SmokeDetector enters reverted mode, use this command to go back to the <code class="language-plaintext highlighter-rouge">deploy</code> branch.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/gitstatus</code> — Shows which git branch the SD instance is on and if it is behind origin/deploy.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/errorlogs [&lt;N&gt;]</code> — Shows lines of the error logs for the last <em>N</em> exceptions. <em>N</em> defaults to 2. (You can also use <code class="language-plaintext highlighter-rouge">!!/errorlog</code>, <code class="language-plaintext highlighter-rouge">!!/errlog</code> or <code class="language-plaintext highlighter-rouge">!!/errlogs</code>)</li>
  <li><code class="language-plaintext highlighter-rouge">!!/block &lt;N&gt;</code> — Blocks SmokeDetector globally for <em>N</em> seconds; no alerts will be posted. Example: <code class="language-plaintext highlighter-rouge">!!/block 600</code> blocks globally for 10 minutes.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/block &lt;N&gt; &lt;room_id&gt;</code> — Blocks SmokeDetector in the specific room for <em>N</em> seconds; no alerts will be posted there. Example: <code class="language-plaintext highlighter-rouge">!!/block 3600 89</code> blocks alerts in the Tavern for one hour.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/unblock</code> — Unblock SmokeDetector manually, resetting global block only.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/unblock &lt;room_id&gt;</code> — Unblock SmokeDetector manually in the specific room.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/invite &lt;room_id&gt; &lt;roles separated by commas...&gt;</code> - Temporarily invites SmokeDetector to the given room on the current site. Roles are the same as in <code class="language-plaintext highlighter-rouge">rooms.yml</code> (<a href="https://charcoal-se.org/smokey/Rooms-configuration">instructions</a>. This is used mostly for testing, or for short-term situations.<br />
Note: If you want SmokeDetector to make reports into a room, that’s best set up semi-permanently by modifying the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/rooms.yml">rooms.yml file</a> (<a href="https://charcoal-se.org/smokey/Rooms-configuration">instructions</a>), but there are many options and changes potentially impact SmokeDetector performance, due to chat rate-limiting, so please ask/consult in <a href="https://chat.stackexchange.com/rooms/11540/charcoal-hq">Charcoal HQ</a> before modifying that file or doing an <code class="language-plaintext highlighter-rouge">!!/invite</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/ms-up</code> — Instructs SmokeDetector that metasmoke is up. SmokeDetector will attempt to communicate with metasmoke. This is the normal, default state.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/ms-down</code> — Instructs SmokeDetector that metasmoke is down. SmokeDetector will not attempt to communicate with metasmoke.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/no_se_websocket_activity [ignore]</code> if issued with <code class="language-plaintext highlighter-rouge">ignore</code> as the argument, SmokeDetector will no longer report and then reboot when it detects there’s been no activity on the Stack Exchange WebSocket for an extended period of time. Issuing the command with no argument or any text for the argument other than <code class="language-plaintext highlighter-rouge">ignore</code> will return SmokeDetector to normal operation. Even when not reporting or rebooting because of a lack of traffic on the WebSocket, SmokeDetector is still listening to the WebSocket and both scanning any reported posts and tracking how long it’s been since it’s seen traffic. Thus, when normal operation is restored, SmokeDetector may reboot the next time it checks to see if it’s been too long since it’s seen traffic. This setting is not persistent across rebooting. It’s intended use is when Stack Exchange is down or in read-only mode.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/stopflagging</code> - An emergency measure to immediately disable all autoflagging. Once disabled, autoflagging can only be re-enabled by an Admin.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/dump_data</code> - If a “dump” room is specified in rooms.yml, then the SD instance will output a chat message in that room which contains pickle formatted data that has been zlib compressed and base64 encoded. The data will include the blacklisted users list, whitelisted users list, list of ignored posts, and list of notifications. The resulting chat message can be used to transfer this data to another SD instance by using <code class="language-plaintext highlighter-rouge">!!/load_data &lt;chat message ID&gt;</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/load_data &lt;chat message ID&gt;</code> - SD will read the data in the specified chat message and replace the lists it has for the values in that data. The chat message is expected to be in a format as generated by the <code class="language-plaintext highlighter-rouge">!!/dump_data</code> command.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/stats [operation] [from_stats_set] [to_stats_set]</code> — Shows and/or manipulates post scanning statistics. The available “operations” are: <code class="language-plaintext highlighter-rouge">clear</code>, <code class="language-plaintext highlighter-rouge">copy</code>, <code class="language-plaintext highlighter-rouge">create</code>, <code class="language-plaintext highlighter-rouge">delete</code>, <code class="language-plaintext highlighter-rouge">display</code>, <code class="language-plaintext highlighter-rouge">get</code>, <code class="language-plaintext highlighter-rouge">lock</code>, <code class="language-plaintext highlighter-rouge">list</code>, <code class="language-plaintext highlighter-rouge">reset</code>, <code class="language-plaintext highlighter-rouge">show</code>, and <code class="language-plaintext highlighter-rouge">unlock</code>. Further explanation is available in <a href="https://github.com/Charcoal-SE/SmokeDetector/pull/7004">PR #7004</a>, along with an <a href="https://github.com/Charcoal-SE/SmokeDetector/pull/7004#issuecomment-1133116441">explanation of what the stats output means</a>. For most of the the operations which receive a not permitted response, there’s a <code class="language-plaintext highlighter-rouge">!!/stats-force</code> version which will override that block. However, that block is generally there to prevent bad things from happening, so use care. The aliases for the command are <code class="language-plaintext highlighter-rouge">stat</code>, <code class="language-plaintext highlighter-rouge">scan-stat</code>, and <code class="language-plaintext highlighter-rouge">statistics</code>, along with their <code class="language-plaintext highlighter-rouge">-force</code> variations.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/unnotify-all-admin &lt;chat user ID number&gt;</code> - Removes all notifications for the chat user with the ID <code class="language-plaintext highlighter-rouge">&lt;chat user ID number&gt;</code> on the chat server form which the command is executed. While this doesn’t actually check that the user running the command has SD privileges, the user running the command must have the “admin” role on metasmoke.</li>
</ul>

<h2 id="blacklists-watchlists-and-the-user-whitelist">Blacklists, watchlists, and the user-whitelist</h2>

<p>These commands manages the detection blacklists and whitelists. Except for the user-blacklist and user-whitelist, all commands require “blacklist manager”</p>

<h3 id="user-blacklist-and-user-whitelist">User-blacklist and user-whitelist</h3>

<p>The user-blacklist and user-whitelist are maintained <em>per SmokeDetector instance</em>. The SmokeDetector instances do not share these lists between themselves. Thus, if the SmokeDetector instance is switched, the new instance will only have a record of the entries on these lists which were added/removed while that instance was active.</p>

<p><strong>The user-blacklist</strong> is a dynamic list of users which will have any post of theirs reported by SmokeDetector anytime one of their posts is scanned. Users are primarily added to the user-blacklist when someone gives <code>tp<b>u</b></code> feedback to a post the user has authored, or when one of their posts is manually reported to SmokeDetector with <code class="language-plaintext highlighter-rouge">!!/report</code> and the post would not have otherwise been detected. Users are automatically removed from the user-blacklist when <code class="language-plaintext highlighter-rouge">fp</code> feedback is given for a post they have authored. Users can also be explicitly added, removed, or their blacklist status determined with the following commands:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">!!/addblu &lt;profile_URL&gt;</code> or <code class="language-plaintext highlighter-rouge">!!/addblu &lt;user_ID&gt; &lt;site_name&gt;</code> — Adds a user to the user-blacklist (this means that any post by this user will be reported when scanned).</li>
  <li><code class="language-plaintext highlighter-rouge">!!/rmblu &lt;profile_URL&gt;</code> or <code class="language-plaintext highlighter-rouge">!!/rmblu &lt;user_ID&gt; &lt;site_name&gt;</code> — Removes a user from the user-blacklist.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/isblu</code> Checks if a user is blacklisted. This command does not require privileges. Two formats are accepted: <code class="language-plaintext highlighter-rouge">!!/isblu &lt;profile_URL&gt;</code> or <code class="language-plaintext highlighter-rouge">!!/isblu &lt;user_ID&gt; &lt;site_name&gt;</code></li>
</ul>

<p><strong>The user-whitelist</strong> is a list of users for which posts will not be reported if the <em>only detections</em> of the post are on the user’s username. If there are other detections triggered, then the post will be reported with the username detections included. Users are added to the list if their post receives <code>fp<b>u</b></code> feedback. Users can also be explicitly added, removed, or their whitelist status determined with the following commands:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">!!/addwlu &lt;profile_URL&gt;</code> or <code class="language-plaintext highlighter-rouge">!!/addwlu &lt;user_ID&gt; &lt;site_name&gt;</code> — Adds a user to the user-whitelist. For posts by this user, if the only detections triggered for the post are on the username, then those detections alone will not cause the post to be reported.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/rmwlu &lt;profile_URL&gt;</code> or <code class="language-plaintext highlighter-rouge">!!/rmwlu &lt;user_ID&gt; &lt;site_name&gt;</code> — Removes a user from the user-whitelist.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/iswlu</code> Checks if a user is whitelisted. This command does not require privileges. Two formats are accepted: <code class="language-plaintext highlighter-rouge">!!/iswlu &lt;profile_URL&gt;</code> or <code class="language-plaintext highlighter-rouge">!!/iswlu &lt;user_ID&gt; &lt;site_name&gt;</code></li>
</ul>

<h3 id="detection-blacklists-and-watchlists">Detection blacklists and watchlists</h3>

<p>For all <code class="language-plaintext highlighter-rouge">!!/blacklist-*</code> and <code class="language-plaintext highlighter-rouge">!!/watch*</code> commands:</p>

<ul>
  <li>If you are a <a href="https://charcoal-se.org/smokey/Privileges#code-admin-aka-blacklister-ms">blacklister</a> on metasmoke, your change will apply immediately, after brief checks by SmokeDetector or once CI passes, depending on the circumstances.</li>
  <li>If you are not a blacklister, a <a href="https://help.github.com/en/github/collaborating-with-issues-and-pull-requests/about-pull-requests">pull request</a> (PR) will be created for your additions to the lists, so the changes can be reviewed. You will not be allowed to execute <code class="language-plaintext highlighter-rouge">!!/unwatch</code> or <code class="language-plaintext highlighter-rouge">!!/unblacklist</code> commands. You will need to ping a blacklister to perform those commands, or manually submit a PR that performs the removal.</li>
</ul>

<p>All commands that add entries to one of these lists run the new entry through a variety of checks. If some checks are not passed, then a chat reply message is posted detailing what didn’t pass. All such commands have a <code class="language-plaintext highlighter-rouge">-force</code> variant (i.e. append <code class="language-plaintext highlighter-rouge">-force</code> to the command; e.g. <code class="language-plaintext highlighter-rouge">!!/watch-force</code>), which will bypass these checks, except checks for actual duplicate entries, which are considered a hard error. You should not be in the habit of directly running the <code class="language-plaintext highlighter-rouge">-force</code> variant of the commands. Run the non <code class="language-plaintext highlighter-rouge">-force</code> version first to see what SmokeDetector says. If you have verified that you still want to add the entry, despite the issues SmokeDetector mentioned, then you can edit your chat message to add <code class="language-plaintext highlighter-rouge">-force</code>, or post a new chat message with <code class="language-plaintext highlighter-rouge">-force</code>. Even very experienced users rarely go directly to using the <code class="language-plaintext highlighter-rouge">-force</code> version without running the command as a non- <code class="language-plaintext highlighter-rouge">-force</code> version first.</p>

<h4 id="non--number-blacklists-and-watchlist">Non <code class="language-plaintext highlighter-rouge">-number</code> blacklists and watchlist</h4>

<p>The non <code class="language-plaintext highlighter-rouge">-number</code> blacklists and watchlist are lists of regular expressions (regexes) which are used to test some or all of post bodies, post titles, and usernames for matching text. See the description of the command for adding entries to each list for a statement as to what the entries on that list are tested against.</p>

<p>Because these lists are regular expressions, make sure regex special characters are escaped (in particular, <code class="language-plaintext highlighter-rouge">.</code> characters should be escaped as <code class="language-plaintext highlighter-rouge">\.</code>) when not used for the special meaning. The regular expression variant that SmokeDetector uses is the <a href="https://pypi.org/project/regex/"><code class="language-plaintext highlighter-rouge">regex</code> package</a>.</p>

<p>When adding to the blacklists, any entry in the watchlists which exactly matches what you’re adding to the blacklist will be automatically removed from the watchlists. In other words, adding to the blacklist is assumed to be moving an entry from the watchlist to the blacklists, if it already exists on a watchlist.</p>

<p>The regexes for the keyword-blacklist and watchlist have <code class="language-plaintext highlighter-rouge">\b</code> prepended and appended to them prior to testing against post bodies, titles, and usernames. For both of those lists, the <code class="language-plaintext highlighter-rouge">i</code> and <code class="language-plaintext highlighter-rouge">s</code> flags are set (case insensitive and <code class="language-plaintext highlighter-rouge">.</code> matches newline). The other lists do not bookend the regexes with <code class="language-plaintext highlighter-rouge">\b</code> and only have the case insensitive flag, <code class="language-plaintext highlighter-rouge">i</code>, set. Note: the actual bookending begins the overall regex with <code class="language-plaintext highlighter-rouge">(?:^|\b|(?w:\b))</code> and ends it with <code class="language-plaintext highlighter-rouge">(?:\b|(?w:\b)|$)</code>. <a href="https://pypi.org/project/regex/#unicode-line-separators">The documentation</a> for the <code class="language-plaintext highlighter-rouge">regex</code> package briefly describes what the <code class="language-plaintext highlighter-rouge">w</code> (word) flag in the bookending does.</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">!!/blacklist</code> — <strong>This command has been deactivated.</strong> Use one of the four specialized blacklist commands instead, which are shown below. If run, this command will post a help message in chat.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/blacklist-keyword &lt;regex&gt;</code> — Adds a regular expression pattern to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/bad_keywords.txt">list of bad keywords</a>. Prior to being used, all regexes on this list automatically have <code class="language-plaintext highlighter-rouge">\b</code> added to the start and end of the regex. Regular expressions on this list are tested against post bodies, post titles, and usernames.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/blacklist-username &lt;regex&gt;</code> — Adds a regular expression pattern to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/blacklisted_usernames.txt">username blacklist</a>.  Regexes on this list do <em>not</em> have <code class="language-plaintext highlighter-rouge">\b</code> added to the start and end of the regex. These regexes are tested only against usernames.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/blacklist-website &lt;regex&gt;</code> — Adds a regular expression pattern to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/blacklisted_websites.txt">website blacklist</a>. Make sure regex special characters are escaped (in particular, <code class="language-plaintext highlighter-rouge">.</code> characters should be escaped as <code class="language-plaintext highlighter-rouge">\.</code>; e.g. <code class="language-plaintext highlighter-rouge">!!/blacklist-website example\.com</code>). Regexes on this list do <em>not</em> have <code class="language-plaintext highlighter-rouge">\b</code> added to the start and end of the regex. Regular expressions on this list are tested against post bodies, post titles, and usernames.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/watch &lt;regex&gt;</code> - Adds a regular expression pattern to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/watched_keywords.txt">watchlist</a> which is similar to the list of bad keywords (see <code class="language-plaintext highlighter-rouge">!!/blacklist-keyword</code> above), but with less strict criteria for what you can list.  The intent is that you can set up SmokeDetector to watch for something and be alerted when it actually happens.  Typical phrases to watch include domain names and phrases which occur in spam, but which have not been seen by metasmoke enough to actually blacklist (yet) or which don’t meet the high spam-detection-accuracy criteria required of blacklisted items. The long version of this command is <code class="language-plaintext highlighter-rouge">!!/watch-keyword &lt;regex&gt;</code>. Prior to being used by SmokeDetector to test posts, all regexes on this list automatically have <code class="language-plaintext highlighter-rouge">\b</code> added to the start and end of the regex. Regular expressions on this list are tested against post bodies, post titles, and usernames.</li>
</ul>

<h4 id="-number-blacklists-and-watchlist"><code class="language-plaintext highlighter-rouge">-number</code> blacklists and watchlist</h4>

<p>The <code class="language-plaintext highlighter-rouge">-number</code> blacklist and watchlist are lists of numbers that are tested against post bodies, post titles, and usernames as text both verbatim and “normalized” (with everything but numbers removed).</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">!!/watch-number &lt;number text&gt;</code> - Adds a number to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/watched_numbers.txt">watched number list</a>. The text may contain non-number characters and is tested verbatim against potential spam. In addition, it’s tested “normalized”, which is with both the watched number text and the post reduced to numbers.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/blacklist-number &lt;number text&gt;</code> — Adds a number to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/blacklisted_numbers.txt">number blacklist</a>. The text may contain non-number characters and is tested verbatim against potential spam. In addition, it’s tested “normalized”, which is with both the blacklisted number text and the post reduced to numbers.</li>
</ul>

<h5 id="commands-applicable-to-both--number-and-non---number-blacklists-and-watchlists-excluding-the-user-blacklist-and-user-whitelist-described-above">Commands applicable to both <code class="language-plaintext highlighter-rouge">-number</code> and non- <code class="language-plaintext highlighter-rouge">-number</code> blacklists and watchlists (excluding the user-blacklist and user-whitelist described above)</h5>

<ul>
  <li><code class="language-plaintext highlighter-rouge">!!/unwatch &lt;regex&gt;</code> or <code class="language-plaintext highlighter-rouge">!!/unwatch &lt;number text&gt;</code> - Removes a previously-added regular expression from the watchlist and/or a number from the number watchlist. Only blacklisters can use this command; it will only accept an exact match to a regular expression in the watchlist and/or an exact match to a number in the number watchlist.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/unblacklist &lt;regex&gt;</code> or <code class="language-plaintext highlighter-rouge">!!/unblacklist &lt;number text&gt;</code> - Similar to <code class="language-plaintext highlighter-rouge">unwatch</code>, removes a previously-added regular expression from the blacklists and/or a number from the number blacklist. Only blacklisters can use this command. It will only accept an exact match to a regular expression in the blacklists and/or an exact match to a number in the number blacklist.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/approve &lt;PR number&gt;</code> - Only blacklisters can use this command. It allows you to approve without leaving the chat a pull request which was automatically created for watches/blacklists by non-blacklisters users. It has an alias, <code class="language-plaintext highlighter-rouge">!!/accept</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/reject &lt;PR number&gt; &lt;"reason"&gt;</code> - Reject/close a pull request which was automatically created by a <code class="language-plaintext highlighter-rouge">!!/watch*</code> or <code class="language-plaintext highlighter-rouge">!!/blacklist-*</code> command run by a non-blacklister user. The <code class="language-plaintext highlighter-rouge">reason</code> is to help the user who performed the command which created the PR learn from why the watch or blacklist addition was rejected. <em>If the <code class="language-plaintext highlighter-rouge">reason</code> is shorter than 20 characters, you will need to <code class="language-plaintext highlighter-rouge">-force</code> the rejection.</em> Only blacklisters can use this command. It has an alias, <code class="language-plaintext highlighter-rouge">!!/close</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/bisect &lt;text&gt;</code> - Test the text against all of the entries on the blacklists and watchlists which are stored in the *.txt files and are manipulable using <code class="language-plaintext highlighter-rouge">!!/watch*</code>, <code class="language-plaintext highlighter-rouge">!!/unwatch</code>, <code class="language-plaintext highlighter-rouge">!!/blacklist*</code>, and <code class="language-plaintext highlighter-rouge">!!/unblacklist</code> commands. Notably, this does not include anything defined directly in findspam.py.</li>
  <li><code class="language-plaintext highlighter-rouge">!!/bisect-number &lt;text&gt;</code> - Test the text against the number blacklist and watchlist entries. It does not test against the regular expressions. This is substantially less SmokeDetector CPU intensive than <code class="language-plaintext highlighter-rouge">!!/bisect</code>, so should be used if you’re focusing exclusively on numbers.</li>
</ul>

<p>Since <code class="language-plaintext highlighter-rouge">bisect</code> is computationally intensive, the <code class="language-plaintext highlighter-rouge">test</code> commands are preferred if you’re only interested in whether something would be caught. The <code class="language-plaintext highlighter-rouge">bisect</code> command should be reserved for when you need to know exactly which entry in the watch/blacklist would be responsible for the detection.</p>

<p>Additionally, for offline testing, you can clone this repository locally and run the command <code class="language-plaintext highlighter-rouge">./util.py bisect "&lt;string&gt;"</code>.</p>

<p>If your intention is merely to check whether something is already on a list with the intention of adding it if it is not, then just go ahead and issue the command to add it. SmokeDetector will automatically run the equivalent of the <code class="language-plaintext highlighter-rouge">test</code> command and reply to you with a warning if what you attempted to add would already be caught by an item on one of the lists. Otherwise, it will be added. In other words: don’t ask to add, just add.</p>

<h2 id="privileged-commands-as-reply">Privileged commands as reply</h2>

<p>These commands require privileges and have to be posted as a reply to a message of SmokeDetector.</p>

<p>User-friendly syntax:</p>

<ul>
  <li>use <code class="language-plaintext highlighter-rouge">spam</code>, <code class="language-plaintext highlighter-rouge">rude</code>, <code class="language-plaintext highlighter-rouge">abusive</code> or <code class="language-plaintext highlighter-rouge">offensive</code> for posts that should be flagged as such (equivalent to <code class="language-plaintext highlighter-rouge">tpu-</code>; see <a href="#Aliases">Aliases</a> below)</li>
  <li>use <code class="language-plaintext highlighter-rouge">v</code>, <code class="language-plaintext highlighter-rouge">vand</code> or <code class="language-plaintext highlighter-rouge">vandalism</code> for posts that have been vandalised and the vandalism edit should be rolled back (equivalent to <code class="language-plaintext highlighter-rouge">tp-</code>)</li>
  <li>use <code class="language-plaintext highlighter-rouge">notspam</code> if the post should not be flagged (equivalent to <code class="language-plaintext highlighter-rouge">fp-</code>)</li>
</ul>

<p>Complete list:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">tp</code> or <code class="language-plaintext highlighter-rouge">true</code> — Marks a reported post as true positive.</li>
  <li><code class="language-plaintext highlighter-rouge">tpu</code> or <code class="language-plaintext highlighter-rouge">trueu</code> — Marks a reported post as true positive and adds the poster to the blacklist.</li>
  <li><code class="language-plaintext highlighter-rouge">fp</code> or <code class="language-plaintext highlighter-rouge">false</code> — Marks a reported post as false positive. Additionally removes the user from the blacklist, if that was the reason that the post was reported.</li>
  <li><code class="language-plaintext highlighter-rouge">fpu</code> or <code class="language-plaintext highlighter-rouge">falseu</code> — Marks a reported post as false positive and adds the poster to the whitelist.</li>
  <li><code class="language-plaintext highlighter-rouge">naa</code> — If the reported post is an answer, this command records it as NAA (Not an answer) in metasmoke.</li>
  <li><code class="language-plaintext highlighter-rouge">ignore</code> — Makes SmokeDetector ignore a reported post.</li>
  <li><code class="language-plaintext highlighter-rouge">delete</code>, <code class="language-plaintext highlighter-rouge">del</code>, <code class="language-plaintext highlighter-rouge">remove</code> or <code class="language-plaintext highlighter-rouge">gone</code> — Deletes a message of SmokeDetector. This has been disabled in CHQ for reports due to the reasons <a href="#a-note-on-message-deletion">listed below</a>. But if you really need to delete a report, use <code class="language-plaintext highlighter-rouge">sd delete-force</code>.</li>
  <li><code class="language-plaintext highlighter-rouge">postgone</code> — Edits out the post link of a SmokeDetector report. If in CHQ, this should be used sparingly.</li>
</ul>

<h3 id="aliases">Aliases</h3>

<p>Some frequently used commands have one-letter aliases or convenient words that can be used instead:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Command</th>
      <th>Alias of</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">f</td>
      <td>fp-</td>
    </tr>
    <tr>
      <td style="text-align: right">notspam</td>
      <td>fp-</td>
    </tr>
    <tr>
      <td style="text-align: right">k</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">spam</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">rude</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">abuse</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">abusive</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">offensive</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">v</td>
      <td>tp-</td>
    </tr>
    <tr>
      <td style="text-align: right">vandalism</td>
      <td>tp-</td>
    </tr>
    <tr>
      <td style="text-align: right">n</td>
      <td>naa-</td>
    </tr>
  </tbody>
</table>

<h3 id="a-note-on-message-deletion">A note on message deletion</h3>

<p>Messages by SmokeDetector can be deleted within 2 minutes after they were posted by using the <code class="language-plaintext highlighter-rouge">del</code>, <code class="language-plaintext highlighter-rouge">remove</code>, or <code class="language-plaintext highlighter-rouge">gone</code> commands. After 2 minutes are up, SmokeDetector cannot delete its own messages in response to those commands, so any deletion after that window must be done by a moderator.</p>

<p>Messages will also be deleted in <em>Tavern on the Meta</em> and <em>SO Close Vote Reviewers</em>, or <em>Raiders of the Lost Downboat</em> if the relevant post is deleted or marked as false positive before the 2-minute window is up.</p>

<p><strong>Please note</strong> that the usage of deletion commands is discouraged in Charcoal HQ. Generally, messages in CHQ are kept as a record of all reported posts for multiple reasons:</p>

<ul>
  <li>While we <em>do</em> have metasmoke which acts as a mirror of all posts, it does go offline occasionally</li>
  <li>Some userscripts which run in chat (e.g. FIRE) use information from the chat reports to fetch the correct data from the API.</li>
  <li>It allows for a second opinion on reports, even if one person has marked it as a false positive</li>
  <li>Seeing spam and abusive posts is an occupational hazard in CHQ; we aren’t worried if the report contains something NSFW.</li>
</ul>

<p>The <code class="language-plaintext highlighter-rouge">delete-force</code> command can be used if a report <em>really</em> needs to be deleted in Charcoal HQ.</p>

<h2 id="shortcut-commands">Shortcut commands</h2>

<p>You can now use a shortcut to post a reply to one, two or three messages at the same time, in this shape:</p>

<div class="language-plaintext highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sd cmd1
sd cmd1 cmd2
sd cmd1 cmd2 cmd3
sd cmd1 cmd2 cmd3 cmd4
sd cmd1 cmd2 cmd3 cmd4 cmd5
</code></pre></div></div>

<p>cmd1 will be invoked in the most recent message, cmd2 on the message before that and cmd3 on the message before that, and so on.</p>

<p>It’s also possible to skip a message. Replace a command with a <code class="language-plaintext highlighter-rouge">-</code> to skip a message. For example, <code class="language-plaintext highlighter-rouge">sd - delete</code> skips the most recent message and deletes the message before that one.</p>

<p>Smokey will reply to your shortcut command unless all commands have quiet mode (like tp-) or just don’t reply by default (like delete).</p>

<p>A few examples:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">sd - delete</code> keeps the most recent message and deletes the one before that.</li>
  <li><code class="language-plaintext highlighter-rouge">sd tp fp delete</code> marks the most recent message as tp, the one before that as fp, and deletes the one before that.</li>
</ul>

<p>You can also put a digit in front of a command so that the command will apply as many times as the digit. A few examples:</p>

<ul>
  <li><code class="language-plaintext highlighter-rouge">sd 2tpu</code> = <code class="language-plaintext highlighter-rouge">sd tpu tpu</code></li>
  <li><code class="language-plaintext highlighter-rouge">sd 2tpu 3fpu</code> = <code class="language-plaintext highlighter-rouge">sd tpu tpu fpu fpu fpu</code></li>
  <li><code class="language-plaintext highlighter-rouge">sd 2- fp</code> = <code class="language-plaintext highlighter-rouge">sd - - fp</code></li>
</ul>


<div class="sidebar">



<p><strong><a href="//github.com/Charcoal-SE/SmokeDetector/wiki/Commands/_edit"><i class="fa fa-pencil"></i> Edit on GitHub</a></strong></p>

<div class="sidebar-content sidebar-content-smokey">

  <p><strong><a href="Home">Home</a></strong></p>

  <p><strong><a href="http://chat.stackexchange.com/rooms/11540/charcoal-hq">Charcoal HQ</a></strong></p>

  <p><strong><a href="http://charcoal-se.org/">Charcoal Website</a></strong></p>

  <p><strong><a href="https://metasmoke.erwaysoftware.com">metasmoke</a></strong></p>

  <p><strong><a href="https://github.com/Charcoal-SE/userscripts">Userscripts</a></strong></p>

</div>


</div>


<div class="footer footer-insert text-center">
<p>Smokey is made with &lt;3 by the <a href="https://charcoal-se.org/people.html">Charcoal Team</a> and the other awesome <a href="https://github.com/Charcoal-SE/SmokeDetector/graphs/contributors">contributors</a> from <a href="https://chat.stackexchange.com/rooms/11540/charcoal-hq">Charcoal HQ</a>.</p>
</div>

    </div>
    <div class="footer text-center">
      <p>Charcoal is not affiliated with or sponsored by Stack Exchange, Inc.<br />
        <a href="/security">Security</a> • <a href="/pings/">Contact</a>
      </p>
      <p>
        <a href="https://github.com/Charcoal-SE/charcoal-se.github.io">Website Source</a>
        • By
          
            <a href="https://github.com/j-f1" class="avatar-link">
              <img class="avatar avatar-small" alt="j-f1" width="16" height="16" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/j-f1?v=3&s=16" srcset="https://avatars2.githubusercontent.com/j-f1?v=3&s=16 1x, https://avatars2.githubusercontent.com/j-f1?v=3&s=32 2x, https://avatars2.githubusercontent.com/j-f1?v=3&s=48 3x, https://avatars2.githubusercontent.com/j-f1?v=3&s=64 4x" />j-f1</a>,
          
            <a href="https://github.com/ArtOfCode-" class="avatar-link">
              <img class="avatar avatar-small" alt="ArtOfCode-" width="16" height="16" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=16" srcset="https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=16 1x, https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=32 2x, https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=48 3x, https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=64 4x" />ArtOfCode-</a>,
          
            <a href="https://github.com/iBug" class="avatar-link">
              <img class="avatar avatar-small" alt="iBug" width="16" height="16" data-proofer-ignore="true" src="https://avatars0.githubusercontent.com/iBug?v=3&s=16" srcset="https://avatars0.githubusercontent.com/iBug?v=3&s=16 1x, https://avatars0.githubusercontent.com/iBug?v=3&s=32 2x, https://avatars0.githubusercontent.com/iBug?v=3&s=48 3x, https://avatars0.githubusercontent.com/iBug?v=3&s=64 4x" />iBug</a>,
          
            <a href="https://github.com/angussidney" class="avatar-link">
              <img class="avatar avatar-small" alt="angussidney" width="16" height="16" data-proofer-ignore="true" src="https://avatars1.githubusercontent.com/angussidney?v=3&s=16" srcset="https://avatars1.githubusercontent.com/angussidney?v=3&s=16 1x, https://avatars1.githubusercontent.com/angussidney?v=3&s=32 2x, https://avatars1.githubusercontent.com/angussidney?v=3&s=48 3x, https://avatars1.githubusercontent.com/angussidney?v=3&s=64 4x" />angussidney</a>,
          
          and
          <a href="https://github.com/Charcoal-SE/charcoal-se.github.io/graphs/contributors">
            21 more</a>
        
          • <a href="/code">More gory details</a>
        
      </p>
      
    </div>
  </div>
  <script>
    window.searchConfig = {
      appId: 'TMPUB31BTZ',
      key: 'c63c2f79258f929439376cfb88862440',
      index: 'main-search',
      baseUrl: '',
    }
    window.redirects = { "/channel": "https://stackoverflow.com/c/charcoal", "/m": "https://metasmoke.erwaysoftware.com", "/store": "https://www.zazzle.co.uk/charcoal_se/products", "/ms/Home": "https://charcoal-se.org//ms/", "/ms/Home": "https://charcoal-se.org//ms/", "/announcements": "https://charcoal-se.org//announcements/", "/smokey/Home": "https://charcoal-se.org//smokey/", "/smokey/Home": "https://charcoal-se.org//smokey/", "/userscripts/": "https://charcoal-se.org//scripts.html", "/userscripts": "https://charcoal-se.org//scripts.html",  }
  </script>
  <!-- Hotjar Tracking Code for charcoal-se.org -->
  <script>
    (function(h,o,t,j,a,r){
      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
      h._hjSettings={hjid:771814,hjsv:6};
      a=o.getElementsByTagName('head')[0];
      r=o.createElement('script');r.async=1;
      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
      a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
</body>
</html>
