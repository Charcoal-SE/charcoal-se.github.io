<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>
    Commands | Charcoal
    
  </title>
  <link type="text/css" rel="stylesheet" href="/assets/application-b887cbb6fe127c3c42207d907bb1eb6857559c94edc785cdc8a700244519ad56.css">
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=default,fetch"></script>
  <script type="text/javascript" src="/assets/application-34365d34bcb636de56f3e69c4efa1ec76d11b59d80ae19aaf8d16e124a1b3aaf.js"></script>
  <script type="text/javascript" src="/assets/vendor-ecc837bbd5d3e5dbfb38524f3faaf1406e7e5490330a1bd2b4728be17a5fffa7.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="shortcut icon"
            type="image/png"
            href="/assets/charcoal-fd5b673dc87bbcf444be78adbf43a1198e981d2133de0a3eab4810ca047efbb7.png" />
</head>
<body>
  <div class="body-container">
    
    <div class="header">
      <div class="header-icon text-center">
        <a href="/">
          <img src="/assets/charcoal-fd5b673dc87bbcf444be78adbf43a1198e981d2133de0a3eab4810ca047efbb7.png" height="64" width title="Charcoal: spam-crusaders of the Internet" alt="charcoal.png">
          <span class="title">
            <span>Charcoal</span>
            <small>spam-crusaders of the Internet</small>
          </span>
        </a>
        <label class="nav-toggle-icon fa fa-bars fa-lg" for="nav-toggle"></label>
      </div>
      <input type="checkbox" id="nav-toggle">
      <nav class="text-center top-nav">
        <div class="search-nav">
          <i class="fa fa-search search-icon inline-icon fa-fw"></i>
          <input type="text" placeholder="Search…" id="search-input">
          <a href="#" id="search-close" class="inline-icon close-icon"><i class="fa fa-times fa-fw"></i></a>
        </div>
        <ul class="main-nav">
          <li><a href="/"><i class="fa fa-home" title="Home"></i><span class="mobile-only"> Home</span></a></li>
          <li><a href="https://chat.stackexchange.com/rooms/11540/charcoal-hq"><i class="fa mobile-only fa-comments-o"></i> chat</a></li>
          <li>
            <label class="link" for="projects-toggle">
              more projects <i class="fa fa-chevron-down"></i>
            </label>
            <input type="checkbox" id="projects-toggle">
            <nav class="nav-dropdown">
              <a href="https://metasmoke.erwaysoftware.com/" >metasmoke</a>
            
              <a href="https://charcoal-se.org/ms-urls" >metasmoke URL converter</a>
            
              <a href="https://flovis.charcoal-se.org/" >Farmhouse (Flovis)</a>
            
              <a href="https://charcoal-se.org/blaze" data-turbolinks="false">Blaze</a>
            </nav>
          </li>
          <li><a href="/scripts"><i class="fa mobile-only fa-file-code-o"></i> userscripts</a></li>
          <li><a href="/smokey/"><i class="fa mobile-only fa-file-text-o"></i> wiki</a></li>
          <li>
            <a href="/ms/API-Documentation-(V2)"><i class="fa mobile-only fa-book"></i> api</a>
            (<a href="/ms/API-Documentation-(V1)">v1</a>)
          </li>
          <li><a href="https://github.com/Charcoal-SE" title="GitHub organization"><i class="fa fa-github"></i><span class="mobile-only"> GitHub</span></a></li>
          <li><a href="#" class="search-link"><i class="fa fa-search" title="Search"></i><span class="mobile-only"> Search</span></a></li>
        </ul>
      </nav>
    </div>
    <div class="body">
      


<h1 id="commands">Commands</h1>

<p>This wiki page contains a list of commands and their explanation.</p>

<h2 id="commands-for-everyone">Commands for everyone</h2>

<p>These commands can be executed by everyone.</p>

<ul>
  <li><code class="highlighter-rouge">!!/alive</code> or <code class="highlighter-rouge">!!/live</code> — Replies a random message taken from a list so you can see that SmokeDetector is still running.</li>
  <li><code class="highlighter-rouge">!!/status</code> — Shows the UTC date when SmokeDetector started running.</li>
  <li><code class="highlighter-rouge">!!/ms-status</code> — Shows the status of metasmoke. If SmokeDetector is unable to communicate with metasmoke, then SmokeDetector will assume that metasmoke is down and continue processing posts and reporting them into chat without attempting to communicate with metasmoke.</li>
  <li><code class="highlighter-rouge">!!/ms-up</code> — Instructs SmokeDetector that metasmoke is up. SmokeDetector will attempt to communicate with metasmoke. This is the normal, default state.</li>
  <li><code class="highlighter-rouge">!!/ms-down</code> — Instructs SmokeDetector that metasmoke is down. SmokeDetector will not attempt to communicate with metasmoke.</li>
  <li><code class="highlighter-rouge">!!/rev</code> or <code class="highlighter-rouge">!!/ver</code> — Shows the running Git revision.</li>
  <li><code class="highlighter-rouge">!!/help</code>, <code class="highlighter-rouge">!!/info</code>, <code class="highlighter-rouge">!!/commands</code> — Shows a small help message about SmokeDetector.</li>
  <li><code class="highlighter-rouge">!!/apiquota</code> — Shows the remaining API quota of SmokeDetector.</li>
  <li><code class="highlighter-rouge">!!/queuestatus</code> — Shows the queue status of BodyFetcher.</li>
  <li><code class="highlighter-rouge">!!/blame</code> — Chooses randomly from a list of people who have talked recently in the room.</li>
  <li><code class="highlighter-rouge">!!/lick</code>, <code class="highlighter-rouge">!!/wut</code>, <code class="highlighter-rouge">!!/coffee</code>, <code class="highlighter-rouge">!!/tea</code>, and <code class="highlighter-rouge">!!/brownie</code> — better versions of <code class="highlighter-rouge">!!/alive</code>, aka ‘fun’ commands.</li>
  <li><code class="highlighter-rouge">!!/location</code> — Replies with the current location, as set in the <code class="highlighter-rouge">config</code> file.</li>
  <li><code class="highlighter-rouge">!!/test site=&lt;site_domain&gt; &lt;string&gt;</code> — Runs <code class="highlighter-rouge">&lt;string&gt;</code> against the filter as if it appeared in a question title, body, or username. To test specifically, use <code class="highlighter-rouge">!!/test-a</code> for answer, <code class="highlighter-rouge">!!/test-q</code> for question body, <code class="highlighter-rouge">!!/test-t</code> for title, or <code class="highlighter-rouge">!!/test-u</code> for username. Note that the site is optional. If site is present, the command will use filters for that site.</li>
  <li><code class="highlighter-rouge">!!/isblu</code>, <code class="highlighter-rouge">!!/iswlu</code> — Checks if a user is blacklisted/whitelisted. Two formats are accepted: <code class="highlighter-rouge">&lt;profile_URL&gt;</code> or <code class="highlighter-rouge">&lt;user_ID&gt; &lt;site_name&gt;</code></li>
  <li><code class="highlighter-rouge">!!/whoami</code> — Replies with the bot’s user id for that site</li>
  <li><code class="highlighter-rouge">!!/whois admin</code> — Replies with a list of admins (and who’s currently in the room).</li>
  <li><code class="highlighter-rouge">!!/whois code_admin</code> — Replies with a list of code admins (and who’s currently in the room).</li>
  <li><code class="highlighter-rouge">!!/amiprivileged</code> — Lets you know if you are in the list of privileged users</li>
  <li><code class="highlighter-rouge">!!/amicodeprivileged</code> — Lets you know whether or not you have code privileges (i.e. you can blacklist without approval)</li>
  <li><code class="highlighter-rouge">!!/notify &lt;chatroom_ID_number&gt; &lt;site_domain&gt;</code> — Tells SmokeDetector to ping you, in the given chatroom, when a post is reported on the given site.<br />
Example:  <code class="highlighter-rouge">!!/notify- 89 parenting.stackexchange.com</code><br />
Note: Please use the squelch suffix (<code class="highlighter-rouge">-</code>) and avoid spamming the chat room with too many requests. See <a href="http://chat.meta.stackexchange.com/transcript/message/4157790#4157790">this chat message</a> and the surrounding context.</li>
  <li><code class="highlighter-rouge">!!/unnotify &lt;chatroom_ID_number&gt; &lt;site_domain&gt;</code> — Cancels the previously set notification.  Also, accepts the silent mode suffix (<code class="highlighter-rouge">-</code>).</li>
  <li><code class="highlighter-rouge">!!/unnotify-all</code> - Removes all notifications.</li>
  <li><code class="highlighter-rouge">!!/willbenotified &lt;chatroom_ID_number&gt; &lt;site_domain&gt;</code> — Reports whether you will be pinged, in the given room, about spam on the given site.</li>
  <li><code class="highlighter-rouge">!!/allnotificationsites &lt;chatroom_ID_number&gt;</code> — Shows all sites that you will be pinged for in the given room.</li>
</ul>

<h2 id="commands-as-reply-for-everyone">Commands as reply for everyone</h2>

<ul>
  <li><code class="highlighter-rouge">why</code> — Shows the reason that SmokeDetector caught a post.<br />
Note that <code class="highlighter-rouge">why</code> data is only kept for the last 50 reports. If you need to see older data, it can be found in the post record on Metasmoke.</li>
  <li><code class="highlighter-rouge">autoflagged</code> — Returns if the post was autoflagged or not, and if so, what users were used.</li>
</ul>

<h2 id="privileged-commands">Privileged commands</h2>

<p>These commands require privileges. Note that some commands may be disabled in some rooms. You may talk to others to understand why.
<!-- These were not in any order. Recommend most-used/useful up top. --></p>

<ul>
  <li><code class="highlighter-rouge">!!/report &lt;post URL 1&gt; [&lt;post URL 2&gt; [...]] ["custom reason"]</code> — Makes SmokeDetector scan and report a specific post/multiple specific posts in Charcoal HQ and other applicable rooms. Recommended over <code class="highlighter-rouge">!!/scan</code> if you’re sure the post is spam. The originator of each post will be added to the blacklist if the post wouldn’t have been caught otherwise. Maximum 5 posts at a time. An optional custom reason may be supplied so others are clearer why you’re reporting it. Additionally, the post will be added to the database on Metasmoke, just like all other reported posts.</li>
  <li><code class="highlighter-rouge">!!/scan &lt;post URL 1&gt; [&lt;post URL 2&gt; [...]] ["custom reason"]</code> — Forces SmokeDetector to scan a post. This is useful when you’re not sure if a post is spam and don’t want to report it. Smokey will go through all the usual processes of scanning a post and report it if it’s spam, and will tell you that it’s not spam otherwise. If you’re sure it’s spam but it isn’t being caught, use <code class="highlighter-rouge">!!/report</code> instead. A custom scan reason may be supplied.</li>
  <li>
    <p><code class="highlighter-rouge">!!/allspam &lt;user URL&gt;</code> — To be used if a spammer has many posts so you don’t have to use <code class="highlighter-rouge">!!/report</code>. This command posts a message about the user in all applicable rooms.  Note that this command does NOT auto-TPU anything, for various reasons. Both individual site and network-wide user profiles are supported. It has an alias, <code class="highlighter-rouge">!!/reportuser &lt;user URL&gt;</code>.</p>
  </li>
  <li><code class="highlighter-rouge">!!/feedback &lt;post_URL&gt; &lt;feedback_type&gt;</code> - Takes a valid SE post URL as input, and manually sends the given feedback to metasmoke. Note that this won’t blacklist/whitelist users automatically.</li>
  <li><code class="highlighter-rouge">!!/reboot</code> — Reboots SmokeDetector.</li>
  <li><code class="highlighter-rouge">!!/stappit</code> — Stops all SmokeDetector instances.</li>
  <li><code class="highlighter-rouge">!!/stappit &lt;string&gt;</code> — Stops all SmokeDetector instances where <code class="highlighter-rouge">string</code> is included in the location (e.g. <code class="highlighter-rouge">!!/stappit undo</code> would stop <code class="highlighter-rouge">Undo/EC2</code> and <code class="highlighter-rouge">Undo/DO</code>, but not <code class="highlighter-rouge">teward/aroura</code></li>
  <li><code class="highlighter-rouge">!!/standby &lt;string&gt;</code> - Places that instance into standby mode.</li>
  <li><code class="highlighter-rouge">!!/standby-except &lt;string&gt;</code> <string> - Places all other instances into standby mode, use if multiple instances are running.</string></li>
  <li><code class="highlighter-rouge">!!/pull</code> — Pulls new revisions from GitHub.</li>
  <li><code class="highlighter-rouge">!!/pull-sync-force</code> — For use when other methods of resolving git issues, particularly “HEAD isn’t at tip of origin’s master branch”, fail. The command performs <code class="highlighter-rouge">git checkout -b temp origin/master; git branch -M master</code>, which replaces the SmokeDetector instance’s local master branch with what’s on GitHub. This command is now <strong>deprecated</strong> because other solutions like <code class="highlighter-rouge">git reset --hard origin/master</code> are already in place, which should theoretically handle all potential issues that would have required this command to resolve. Use <code class="highlighter-rouge">!!/pull-sync-force</code> if you really need to.</li>
  <li><code class="highlighter-rouge">!!/master</code> — When SmokeDetector enters reverted mode, use this command to go back to the <code class="highlighter-rouge">deploy</code> branch.</li>
  <li><code class="highlighter-rouge">!!/gitstatus</code> — Shows which git branch the SD instance is on and if it is behind origin/deploy.</li>
  <li><code class="highlighter-rouge">!!/errorlogs &lt;N&gt;</code> — Shows lines of the error logs for the last <em>N</em> exceptions. (You can also use <code class="highlighter-rouge">!!/errorlog</code>, <code class="highlighter-rouge">!!/errlog</code> or <code class="highlighter-rouge">!!/errlogs</code>)</li>
  <li><code class="highlighter-rouge">!!/block &lt;N&gt;</code> — Blocks SmokeDetector globally for <em>N</em> seconds; no alerts will be posted. Example: <code class="highlighter-rouge">!!/block 600</code> blocks globally for 10 minutes.</li>
  <li><code class="highlighter-rouge">!!/block &lt;N&gt; &lt;room_id&gt;</code> — Blocks SmokeDetector in the specific room for <em>N</em> seconds; no alerts will be posted there. Example: <code class="highlighter-rouge">!!/block 3600 89</code> blocks alerts in the Tavern for one hour.</li>
  <li><code class="highlighter-rouge">!!/unblock</code> — Unblock SmokeDetector manually, resetting global block only.</li>
  <li><code class="highlighter-rouge">!!/unblock &lt;room_id&gt;</code> — Unblock SmokeDetector manually in the specific room.</li>
  <li><code class="highlighter-rouge">!!/invite &lt;room_id&gt; &lt;roles separated by commas...&gt;</code> - Temporarily invites SmokeDetector to the given room on the current site. Roles are the same as in <code class="highlighter-rouge">rooms.yml</code>.</li>
  <li><code class="highlighter-rouge">!!/stopflagging</code> - An emergency measure to immediately disable all autoflagging. Once disabled, autoflagging can only be re-enabled by an Admin.</li>
</ul>

<h3 id="blacklists-watchlist-and-whitelist">Blacklists, watchlist, and whitelist</h3>
<h4 id="user-blacklist-and-user-whitelist">User-blacklist and user-whitelist</h4>
<p>These lists are maintained <em>per SmokeDetector instance</em>. The SmokeDetector instances do not share these lists between themselves.</p>
<h5 id="user-blacklist">User-blacklist</h5>
<p>The user-blacklist is a list of users which have all of their posts reported by SmokeDetector. The user-blacklist is quite dynamic. Users are primarily added to the user-blacklist when someone gives <code>tp<b>u</b></code> feedback to a post the user has authored. Users are automatically removed from the user-blacklist when <code class="highlighter-rouge">fp</code> feedback is given for a post they have authored. Users can also be explicitly added or removed with the following commands:</p>
<ul>
  <li><code class="highlighter-rouge">!!/addblu</code> (same syntax as <code class="highlighter-rouge">!!/addwlu</code>) — Adds a user to the blacklist (this means that any post of this user will be reported).</li>
  <li><code class="highlighter-rouge">!!/rmblu</code> (same syntax as <code class="highlighter-rouge">!!/rmwlu</code>) — Removes a user from the blacklist.
    <h5 id="user-whitelist">User-whitelist</h5>
    <p>The user-whitelist is a list of users for which detections are ignored which would normally trigger on the user’s name. Users are added to the list if their post receives <code>fp<b>u</b></code> feedback. Users can also be explicitly added or removed with the following commands:</p>
  </li>
  <li><code class="highlighter-rouge">!!/addwlu &lt;profile_URL&gt;</code> or <code class="highlighter-rouge">!!/addwlu &lt;user_ID&gt; &lt;site_name&gt;</code> — Adds a user to the whitelist (this means that if the username for that user matches one of the regexes, this will be ignored).</li>
  <li><code class="highlighter-rouge">!!/rmwlu &lt;profile_URL&gt;</code> or <code class="highlighter-rouge">!!/rmwlu &lt;user_ID&gt; &lt;site_name&gt;</code> — Removes a user from the whitelist.</li>
</ul>

<h4 id="detection-blacklists-and-watchlist">Detection blacklists and watchlist</h4>
<p>The blacklists and watchlist detections are lists of regular expressions (regexes) that are used to test posts. The exceptions to this are the watched_numbers and blacklisted_numbers lists, which are lists of numbers that are tested against posts as text both verbatim and “normalized” (with everything but numbers removed).</p>

<p>The regexes for the blacklist-keyword and watchlist have <code class="highlighter-rouge">\b</code> prepended and appended to them prior to testing against post bodies, titles, and usernames. For both of those lists the <code class="highlighter-rouge">i</code> and <code class="highlighter-rouge">s</code> flags are set (case insensitive and <code class="highlighter-rouge">.</code> matches anything). The other lists do not bookend the regexes with <code class="highlighter-rouge">\b</code> and only have the case insensitive flag, <code class="highlighter-rouge">i</code>, set.</p>

<ul>
  <li><code class="highlighter-rouge">!!/blacklist</code> — <strong>This command is deprecated.</strong> Use one of the four specialized blacklist commands instead, which are shown below. If run, this command will print a help.</li>
  <li><code class="highlighter-rouge">!!/blacklist-keyword &lt;regex&gt;</code> — Adds a regular expression pattern to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/bad_keywords.txt">list of bad keywords</a>. Make sure regex special characters are escaped (in particular, <code class="highlighter-rouge">.</code> characters should be escaped as <code class="highlighter-rouge">\.</code>). Prior to being used, all regexes on this list automatically have <code class="highlighter-rouge">\b</code> added to the start and end of the regex. Any exact match in the watchlists to what you are adding to the blacklist will be automatically removed from the watchlists. As with all <code class="highlighter-rouge">!!/blacklist-*</code> and <code class="highlighter-rouge">!!/watch*</code> commands, if you are a code admin on metasmoke, your change will apply immediately, once CI passes; otherwise, a pull request will be created for your changes so that it can be reviewed.</li>
  <li><code class="highlighter-rouge">!!/blacklist-number &lt;number text&gt;</code> — Adds a number to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/blacklisted_numbers.txt">number blacklist</a>. The text may contain non-number characters and is tested verbatim against potential spam. In addition, it’s tested “normalized”, which is with both the blacklisted number text and the post reduced to numbers. Any exact match in the watchlists to what you are adding to the blacklist will be automatically removed from the watchlists. As with all <code class="highlighter-rouge">!!/blacklist-*</code> and <code class="highlighter-rouge">!!/watch*</code> commands, if you are a code admin on metasmoke, your change will apply immediately, once CI passes; otherwise, a pull request will be created for your changes so that it can be reviewed.</li>
  <li><code class="highlighter-rouge">!!/blacklist-username &lt;regex&gt;</code> — Adds a regular expression pattern to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/blacklisted_usernames.txt">username blacklist</a>. Make sure regex special characters are escaped (in particular, <code class="highlighter-rouge">.</code> characters should be escaped as <code class="highlighter-rouge">\.</code>). Regexes on this list do <em>not</em> have <code class="highlighter-rouge">\b</code> added to the start and end of the regex. These regexes are tested only against usernames. Any exact match in the watchlists to what you are adding to the blacklist will be automatically removed from the watchlists. As with all <code class="highlighter-rouge">!!/blacklist-*</code> and <code class="highlighter-rouge">!!/watch*</code> commands, if you are a code admin on metasmoke, your change will apply immediately, once CI passes; otherwise, a pull request will be created for your changes so that it can be reviewed.</li>
  <li><code class="highlighter-rouge">!!/blacklist-website &lt;regex&gt;</code> — Adds a regular expression pattern to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/blacklisted_websites.txt">website blacklist</a>. Make sure regex special characters are escaped (in particular, <code class="highlighter-rouge">.</code> characters should be escaped as <code class="highlighter-rouge">\.</code>). Regexes on this list do <em>not</em> have <code class="highlighter-rouge">\b</code> added to the start and end of the regex. Any exact match in the watchlists to what you are adding to the blacklist will be automatically removed from the watchlists. As with all <code class="highlighter-rouge">!!/blacklist-*</code> and <code class="highlighter-rouge">!!/watch*</code> commands, if you are a code admin on metasmoke, your change will apply immediately, once CI passes; otherwise, a pull request will be created for your changes so that it can be reviewed.</li>
  <li><code class="highlighter-rouge">!!/watch &lt;regex&gt;</code> - Adds a regular expression pattern to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/watched_keywords.txt">watchlist</a> which is similar to the list of bad keywords (see <code class="highlighter-rouge">!!/blacklist-keyword</code> above), but with less strict criteria for what you can list.  The intent is that you can set up SmokeDetector to watch for something and be alerted when it actually happens.  Typical phrases to watch include domain names and phrases which occur in spam, but which have not been seen by metasmoke enough to actually blacklist (yet) or which don’t meet the high spam-detection-accuracy criteria required of blacklisted items. The long version of this command is <code class="highlighter-rouge">!!/watch-keyword &lt;regex&gt;</code>. Make sure regex special characters are escaped (in particular, <code class="highlighter-rouge">.</code> characters should be escaped as <code class="highlighter-rouge">\.</code>). Prior to being used for testing, all regexes on this list automatically have <code class="highlighter-rouge">\b</code> added to the start and end of the regex. As with all <code class="highlighter-rouge">!!/blacklist-*</code> and <code class="highlighter-rouge">!!/watch*</code> commands, if you are a code admin on metasmoke, your change will apply immediately, once CI passes; otherwise, a pull request will be created for your changes so that it can be reviewed.</li>
  <li><code class="highlighter-rouge">!!/watch-number &lt;number text&gt;</code> - Adds a number to the <a href="https://github.com/Charcoal-SE/SmokeDetector/blob/master/watched_numbers.txt">watched number list</a>. The text may contain non-number characters and is tested verbatim against potential spam. In addition, it’s tested “normalized”, which is with both the watched number text and the post reduced to numbers. As with all <code class="highlighter-rouge">!!/blacklist-*</code> and <code class="highlighter-rouge">!!/watch*</code> commands, if you are a code admin on metasmoke, your change will apply immediately, once CI passes; otherwise, a pull request will be created for your changes so that it can be reviewed.</li>
  <li><code class="highlighter-rouge">!!/unwatch &lt;regex&gt;</code> or <code class="highlighter-rouge">!!/unwatch &lt;number text&gt;</code> - Removes a previously-added regular expression from the watchlist and/or a number from the number watchlist. Only code admins can use this command; it will only accept an exact match to a regular expression in the watchlist and/or an exact match to a number in the number watchlist.</li>
  <li><code class="highlighter-rouge">!!/unblacklist &lt;regex&gt;</code> or <code class="highlighter-rouge">!!/unblacklist &lt;number text&gt;</code> - Similar to <code class="highlighter-rouge">unwatch</code>, removes a previously-added regular expression from the blacklists and/or a number from the number blacklist. Only code admins can use this command; it will only accept an exact match to a regular expression in the blacklists and/or an exact match to a number in the number blacklist.</li>
  <li><code class="highlighter-rouge">!!/approve &lt;PR number&gt;</code> - Only code admins can use this command; It allows you to approve watches/blacklists created by non code admin users without leaving the chat.</li>
  <li><code class="highlighter-rouge">!!/bisect &lt;text&gt;</code> - Test the text against all of the blacklist and watchlist entries and report which entries match.</li>
</ul>

<h2 id="privileged-commands-as-reply">Privileged commands as reply</h2>

<p>These commands require privileges and have to be posted as a reply to a message of SmokeDetector.</p>

<p>User-friendly syntax:</p>

<ul>
  <li>use <code class="highlighter-rouge">spam</code> or <code class="highlighter-rouge">rude</code> or <code class="highlighter-rouge">abusive</code> or <code class="highlighter-rouge">offensive</code> for posts that should be flagged as such (equivalent to <code class="highlighter-rouge">tpu-</code>; see below)</li>
  <li>use <code class="highlighter-rouge">v</code>, <code class="highlighter-rouge">vand</code> or <code class="highlighter-rouge">vandalism</code> for posts that have been vandalised and the vandalism edit should be rolled back (equivalent to <code class="highlighter-rouge">tp-</code>)</li>
  <li>use <code class="highlighter-rouge">notspam</code> if the post should not be flagged (equivalent to <code class="highlighter-rouge">fp-</code>)</li>
</ul>

<p>Complete list:</p>

<ul>
  <li><code class="highlighter-rouge">tp</code> or <code class="highlighter-rouge">true</code> — Marks a reported post as true positive.</li>
  <li><code class="highlighter-rouge">tpu</code> or <code class="highlighter-rouge">trueu</code> — Marks a reported post as true positive and adds the poster to the blacklist.</li>
  <li><code class="highlighter-rouge">fp</code> or <code class="highlighter-rouge">false</code> — Marks a reported post as false positive. Additionally removes the user from the blacklist, if that was the reason that the post was reported.</li>
  <li><code class="highlighter-rouge">fpu</code> or <code class="highlighter-rouge">falseu</code> — Marks a reported post as false positive and adds the poster to the whitelist.</li>
  <li><code class="highlighter-rouge">naa</code> — If the reported post is an answer, this command records it as NAA (Not an answer) in metasmoke.</li>
  <li><code class="highlighter-rouge">ignore</code> — Makes SmokeDetector ignore a reported post.</li>
  <li><code class="highlighter-rouge">delete</code>, <code class="highlighter-rouge">del</code>, <code class="highlighter-rouge">remove</code> or <code class="highlighter-rouge">gone</code> — Deletes a message of SmokeDetector. This has been disabled in CHQ for reports due to the reasons <a href="#a-note-on-message-deletion">listed below</a>. But if you really need to delete a report, use <code class="highlighter-rouge">sd delete-force</code>.</li>
  <li><code class="highlighter-rouge">postgone</code> — Edits out the post link of a SmokeDetector report. If in CHQ, this should be used sparingly.</li>
</ul>

<h2 id="silent-mode-and-aliases">Silent mode and aliases</h2>

<p>If you don’t want SmokeDetector to reply when executing a command add a <code class="highlighter-rouge">-</code> sign at the end, for example, <code class="highlighter-rouge">fp-</code>. This is a good practice to cut down on chatroom clutter.  Note that SmokeDetector will always report any errors, even if the <code class="highlighter-rouge">-</code> is present. The hyphen can be placed after the command itself or after its parameter. The following commands support silent mode: replying to spam reports, managing black- and white-list, and managing chat notifications.</p>

<p>Also, some frequently used commands have one-letter aliases or convenient words that can be used instead:</p>

<table>
  <thead>
    <tr>
      <th style="text-align: right">Command</th>
      <th>Alias of</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td style="text-align: right">f</td>
      <td>fp-</td>
    </tr>
    <tr>
      <td style="text-align: right">notspam</td>
      <td>fp-</td>
    </tr>
    <tr>
      <td style="text-align: right">k</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">spam</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">rude</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">abuse</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">abusive</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">offensive</td>
      <td>tpu-</td>
    </tr>
    <tr>
      <td style="text-align: right">v</td>
      <td>tp-</td>
    </tr>
    <tr>
      <td style="text-align: right">vandalism</td>
      <td>tp-</td>
    </tr>
    <tr>
      <td style="text-align: right">n</td>
      <td>naa-</td>
    </tr>
  </tbody>
</table>

<h2 id="a-note-on-message-deletion">A note on message deletion</h2>
<p>Messages by SmokeDetector can be deleted within 2 minutes after they were posted by using the <code class="highlighter-rouge">del</code>, <code class="highlighter-rouge">remove</code>, or <code class="highlighter-rouge">gone</code> commands. After 2 minutes are up, SmokeDetector cannot delete its own messages in response to those commands, so any deletion after that window must be done by a moderator.</p>

<p>Messages will also be deleted in <em>Tavern on the Meta</em> and <em>SO Close Vote Reviewers</em>, or <em>Raiders of the Lost Downboat</em> if the relevant post is deleted or marked as false positive before the 2-minute window is up.</p>

<p><strong>Please note</strong> that the usage of deletion commands is discouraged in Charcoal HQ. Generally, messages in CHQ are kept as a record of all reported posts for multiple reasons:</p>

<ul>
  <li>While we <em>do</em> have metasmoke which acts as a mirror of all posts, it does go offline occasionally</li>
  <li>Some userscripts which run in chat (e.g. FIRE) use information from the chat reports to fetch the correct data from the API.</li>
  <li>It allows for a second opinion on reports, even if one person has marked it as a false positive</li>
  <li>Seeing spam and abusive posts is an occupational hazard in CHQ; we aren’t worried if the report contains something NSFW.</li>
</ul>

<p>The <code class="highlighter-rouge">delete-force</code> command can be used if a report <em>really</em> needs to be deleted in Charcoal HQ.</p>

<h2 id="shortcut-commands">Shortcut commands</h2>

<p>You can now use a shortcut to post a reply to one, two or three messages
at the same time, in this shape:</p>

<div class="highlighter-rouge"><div class="highlight"><pre class="highlight"><code>sd cmd1
sd cmd1 cmd2
sd cmd1 cmd2 cmd3
sd cmd1 cmd2 cmd3 cmd4
sd cmd1 cmd2 cmd3 cmd4 cmd5
</code></pre></div></div>

<p>cmd1 will be invoked in the most recent message, cmd2 on the message
before that and cmd3 on the message before that, and so on.</p>

<p>It’s also possible to skip a message. Replace a command with a <code class="highlighter-rouge">-</code> to skip a
message. For example, <code class="highlighter-rouge">sd - delete</code> skips the most recent message and
deletes the message before that one.</p>

<p>Smokey will reply to your shortcut command unless all commands have quiet
mode (like tp-) or just don’t reply by default (like delete).</p>

<p>A few examples:</p>

<ul>
  <li><code class="highlighter-rouge">sd - delete</code> keeps the most recent message and deletes the one before that.</li>
  <li><code class="highlighter-rouge">sd tp fp delete</code> marks the most recent message as tp, the one before that as fp, and deletes the one before that.</li>
</ul>

<p>You can also put a digit in front of a command so that the command will apply as many times as the digit. A few examples:</p>

<ul>
  <li><code class="highlighter-rouge">sd 2tpu</code> = <code class="highlighter-rouge">sd tpu tpu</code></li>
  <li><code class="highlighter-rouge">sd 2tpu 3fpu</code> = <code class="highlighter-rouge">sd tpu tpu fpu fpu fpu</code></li>
  <li><code class="highlighter-rouge">sd 2- fp</code> = <code class="highlighter-rouge">sd - - fp</code></li>
</ul>


<div class="sidebar">



<p><strong><a href="//github.com/Charcoal-SE/SmokeDetector/wiki/Commands/_edit"><i class="fa fa-pencil"></i> Edit on GitHub</a></strong></p>

<div class="sidebar-content sidebar-content-smokey">

  <p><strong><a href="Home">Home</a></strong></p>

  <p><strong><a href="http://chat.stackexchange.com/rooms/11540/charcoal-hq">Charcoal HQ</a></strong></p>

  <p><strong><a href="http://charcoal-se.org/">Charcoal Website</a></strong></p>

  <p><strong><a href="https://metasmoke.erwaysoftware.com">metasmoke</a></strong></p>

  <p><strong><a href="https://github.com/Charcoal-SE/userscripts">Userscripts</a></strong></p>

</div>


</div>


<div class="footer footer-insert text-center">
<p>Smokey is made with &lt;3 by the <a href="https://charcoal-se.org/people.html">Charcoal Team</a> and the other awesome <a href="https://github.com/Charcoal-SE/SmokeDetector/graphs/contributors">contributors</a> from <a href="https://chat.stackexchange.com/rooms/11540/charcoal-hq">Charcoal HQ</a>.</p>
</div>

    </div>
    <div class="footer text-center">
      <p>Charcoal is not affiliated with or sponsored by Stack Exchange, Inc.<br />
        <a href="/security">Security</a> • <a href="/pings/">Contact</a>
      </p>
      <p>
        <a href="https://github.com/Charcoal-SE/charcoal-se.github.io">Website Source</a>
        • By
          
            <a href="https://github.com/j-f1" class="avatar-link">
              <img class="avatar avatar-small" alt="j-f1" width="16" height="16" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/j-f1?v=3&s=16" srcset="https://avatars2.githubusercontent.com/j-f1?v=3&s=16 1x, https://avatars2.githubusercontent.com/j-f1?v=3&s=32 2x, https://avatars2.githubusercontent.com/j-f1?v=3&s=48 3x, https://avatars2.githubusercontent.com/j-f1?v=3&s=64 4x" />j-f1</a>,
          
            <a href="https://github.com/ArtOfCode-" class="avatar-link">
              <img class="avatar avatar-small" alt="ArtOfCode-" width="16" height="16" data-proofer-ignore="true" src="https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=16" srcset="https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=16 1x, https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=32 2x, https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=48 3x, https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=64 4x" />ArtOfCode-</a>,
          
            <a href="https://github.com/iBug" class="avatar-link">
              <img class="avatar avatar-small" alt="iBug" width="16" height="16" data-proofer-ignore="true" src="https://avatars0.githubusercontent.com/iBug?v=3&s=16" srcset="https://avatars0.githubusercontent.com/iBug?v=3&s=16 1x, https://avatars0.githubusercontent.com/iBug?v=3&s=32 2x, https://avatars0.githubusercontent.com/iBug?v=3&s=48 3x, https://avatars0.githubusercontent.com/iBug?v=3&s=64 4x" />iBug</a>,
          
            <a href="https://github.com/angussidney" class="avatar-link">
              <img class="avatar avatar-small" alt="angussidney" width="16" height="16" data-proofer-ignore="true" src="https://avatars1.githubusercontent.com/angussidney?v=3&s=16" srcset="https://avatars1.githubusercontent.com/angussidney?v=3&s=16 1x, https://avatars1.githubusercontent.com/angussidney?v=3&s=32 2x, https://avatars1.githubusercontent.com/angussidney?v=3&s=48 3x, https://avatars1.githubusercontent.com/angussidney?v=3&s=64 4x" />angussidney</a>,
          
          and
          <a href="https://github.com/Charcoal-SE/charcoal-se.github.io/graphs/contributors">
            15 more</a>
        
          • <a href="/code">More gory details</a>
        
      </p>
      
    </div>
  </div>
  <script>
    window.searchConfig = {
      appId: 'TMPUB31BTZ',
      key: 'c63c2f79258f929439376cfb88862440',
      index: 'main-search',
      baseUrl: '',
    }
    window.redirects = { "/channel": "https://stackoverflow.com/c/charcoal", "/m": "https://metasmoke.erwaysoftware.com", "/store": "https://www.zazzle.co.uk/charcoal_se/products", "/announcements": "https://charcoal-se.org//announcements/", "/smokey/Home": "https://charcoal-se.org//smokey/", "/smokey/Home": "https://charcoal-se.org//smokey/", "/ms/Home": "https://charcoal-se.org//ms/", "/ms/Home": "https://charcoal-se.org//ms/", "/userscripts/": "https://charcoal-se.org//scripts.html", "/userscripts": "https://charcoal-se.org//scripts.html",  }
  </script>
  <!-- Hotjar Tracking Code for charcoal-se.org -->
  <script>
    (function(h,o,t,j,a,r){
      h.hj=h.hj||function(){(h.hj.q=h.hj.q||[]).push(arguments)};
      h._hjSettings={hjid:771814,hjsv:6};
      a=o.getElementsByTagName('head')[0];
      r=o.createElement('script');r.async=1;
      r.src=t+h._hjSettings.hjid+j+h._hjSettings.hjsv;
      a.appendChild(r);
    })(window,document,'https://static.hotjar.com/c/hotjar-','.js?sv=');
  </script>
</body>
</html>
