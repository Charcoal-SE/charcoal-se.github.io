<!DOCTYPE html>
<html>
<head>
  <title>
    
      Set Up Autoflagging | Charcoal
    
  </title>
  <link type="text/css" rel="stylesheet" href="/assets/application-def59906ce62c1ef1fb55af0dd9fb46357227c80043124c330f741703340fb2d.css">
  <script src="https://cdn.polyfill.io/v2/polyfill.min.js?features=default,fetch"></script>
  <script type="text/javascript" src="/assets/application-49b55bfd390519fc1a0c15f247835e230506bd0b4024e40069eb5cd21289f121.js"></script>
  <script type="text/javascript" src="/assets/vendor-fad6853c80b4f83dd9b9327d08ae015076a89c51d5a959e0c9ef73241509de15.js"></script>
  <meta name="viewport" content="width=device-width, initial-scale=1">
</head>
<body>
  <div class="body-container">
    
    <div class="header">
      <div class="header-icon text-center">
        <a href="/">
          <img src="/assets/charcoal-c0d57d82868cf7a8b169cfaf65a45179467c310868ebfdd0f10e6bd48f068816.png" height="64" width alt="charcoal.png">
          <span class="title">
            <span>Charcoal</span>
            <small>spam-crusaders of the Internet</small>
          </span>
        </a>
        <label class="nav-toggle-icon fa fa-bars fa-lg" for="nav-toggle"></label>
      </div>
      <input type="checkbox" id="nav-toggle">
      <nav class="text-center top-nav">
        <ul>
          <li><a href="/"><i class="fa fa-home" title="Home"></i><span class="mobile-only"> Home</span></a></li>
          <li><a href="http://chat.stackexchange.com/rooms/11540/charcoal-hq"><i class="fa mobile-only fa-comments-o"></i> chat</a></li>
          <li>
            <label class="link" for="projects-toggle">
              more projects <i class="fa fa-chevron-down"></i>
            </label>
            <input type="checkbox" id="projects-toggle">
            <nav class="nav-dropdown">
              <a href="https://metasmoke.erwaysoftware.com/" >metasmoke</a>
            
              <a href="https://charcoal-se.org/ms-urls" >metasmoke URL converter</a>
            
              <a href="https://charcoal-se.org/blaze" data-turbolinks="false">Blaze</a>
            </nav>
          </li>
          <li><a href="/scripts"><i class="fa mobile-only fa-file-code-o"></i> userscripts</a></li>
          <li><a href="/smokey/"><i class="fa mobile-only fa-file-text-o"></i> wiki</a></li>
          <li><a href="/ms/API-Documentation"><i class="fa mobile-only fa-book"></i> api</a></li>
          <li><a href="https://github.com/Charcoal-SE" title="GitHub organization"><i class="fa fa-github"></i><span class="mobile-only"> GitHub</span></a></li>
          <li><a href="#" class="search-link"><i class="fa fa-search" title="Search"></i><span class="mobile-only"> Search</span></a></li>
        </ul>
      </nav>
    </div>
    <div class="body">
      


<p>This document provides instructions on how to set up your account to cast automatic flags via the SmokeDetector/metasmoke system.  The facility is described in brief on the <a href="Autoflagging">Autoflagging</a> wiki page.</p>

<h2 id="prerequisites">Prerequisites</h2>
<p>Before running through the rest of these instructions, ensure that:</p>

<ul>
  <li>You have an account on metasmoke. You can get one of those <a href="https://metasmoke.erwaysoftware.com/users/sign_up">here</a>, if you don’t have one.</li>
  <li>Your metasmoke account has the “flagger” permission. You can check that <a href="https://metasmoke.erwaysoftware.com/users">here</a>: find your username, and look for the “flagger” role. Ask an admin about this if you don’t have it.</li>
  <li>Autoflagging and registrations are enabled. You can check these under <a href="https://metasmoke.erwaysoftware.com/flagging/settings">system settings</a>; verify that the <code class="highlighter-rouge">flagging_enabled</code> and <code class="highlighter-rouge">registration_enabled</code> settings have a value of <code class="highlighter-rouge">1</code>.</li>
  <li>Your metasmoke account is write-access authenticated. If you don’t know whether it is or not, it’s probably not – visit the <a href="https://metasmoke.erwaysoftware.com/authentication/status">authentication status page</a> to authenticate.</li>
</ul>

<h2 id="set-up-autoflagging">Set Up Autoflagging</h2>
<ol>
  <li><strong>Enable flags on your account.</strong><br />
Visit <a href="https://metasmoke.erwaysoftware.com/flagging/preferences">your preferences page</a>, and read through the red-boxed disclaimer. If you’re happy with that, tick the box to enable flags on your account.</li>
  <li><strong>Set up preferences.</strong><br />
On the same preferences page, click “Set up preferences” near the bottom of the page. The page you’re taken to lets you set up your preferences, which govern how many of your flags the system can use on any particular site or group of sites. Fill in the maximum number you’d like to allocate, select the sites you want that number to apply to, and click Save. You can repeat this process to have different maxima for different groups of sites.</li>
  <li><strong>Set up conditions.</strong><br />
Visit the <a href="https://metasmoke.erwaysoftware.com/flagging/conditions/new">flag conditions setup</a> page. This page lets you set up combinations of conditions governing how certain you want the system to be that a post is spam before using your account to flag it. The minimum weight controls the minimum cumulative weight of all the reasons a post was caught by (the maximum weight a reason can have is 100; we suggest 280 is a good value for this field). The maximum poster rep controls the most reputation a post author can have. The minimum reason count controls how many reasons you want a post to have been caught by — this performs a <em>similar</em> function to minimum weight. Fill in some values, and click Save. Again, you can repeat this process to have different accuracies for different groups of sites.</li>
</ol>

<blockquote>
  <p><strong>N.B.</strong> There’s a threshold of accuracy that all flagging conditions must meet before they’re used to cast flags automatically. Currently, this is 99.9% — if you want to get the current value of this threshold, it’s stored as the <code class="highlighter-rouge">min_accuracy</code> system setting. You can use the Preview button during condition setup to find out how accurate your proposed parameters are.</p>
</blockquote>

<p>At this point, you should be set up and your account will be used to cast spam flags according to the parameters you’ve specified. If you’ve found any bugs, or have feedback on the system, let us know. If you’ve found a security bug, please email it to someone rather than posting publicly.</p>


<div class="sidebar">



<p><strong><a href="//github.com/Charcoal-SE/SmokeDetector/wiki/Set-Up-Autoflagging/_edit"><i class="fa fa-pencil"></i> Edit on GitHub</a></strong></p>

<div class="sidebar-content sidebar-content-smokey">

  <p><strong><a href="Home">Home</a></strong></p>

  <p><strong><a href="http://chat.stackexchange.com/rooms/11540/charcoal-hq">Charcoal HQ</a></strong></p>

  <p><strong><a href="http://charcoal-se.org/">Charcoal Website</a></strong></p>

  <p><strong><a href="https://metasmoke.erwaysoftware.com">metasmoke</a></strong></p>

  <p><strong><a href="https://github.com/Charcoal-SE/userscripts">Userscripts</a></strong></p>

</div>


</div>


<div class="footer footer-insert text-center">
<p>Smokey is made with &lt;3 by the <a href="https://charcoal-se.org/people.html">Charcoal Team</a> and the other awesome <a href="https://github.com/Charcoal-SE/SmokeDetector/graphs/contributors">contributors</a> from <a href="https://chat.stackexchange.com/rooms/11540/charcoal-hq">Charcoal HQ</a>.</p>
</div>

    </div>
    <div class="footer text-center">
      <p>Charcoal is not affiliated with or sponsored by Stack Exchange, Inc.<br />
        <a href="/security">Security</a> • <a href="/pings">Contact</a>
      </p>
      <p>
        <a href="http://github.com/Charcoal-SE/charcoal-se.github.io">Website Source</a>
        • By
          
            <a href="https://github.com/j-f1" class="avatar-link">
              <img class="avatar avatar-small" src="https://avatars2.githubusercontent.com/j-f1?v=3&s=16" alt="j-f1" srcset="https://avatars2.githubusercontent.com/j-f1?v=3&s=16 1x, https://avatars2.githubusercontent.com/j-f1?v=3&s=32 2x, https://avatars2.githubusercontent.com/j-f1?v=3&s=48 3x, https://avatars2.githubusercontent.com/j-f1?v=3&s=64 4x" width="16" height="16" data-proofer-ignore="true" />j-f1</a>,
          
            <a href="https://github.com/ArtOfCode-" class="avatar-link">
              <img class="avatar avatar-small" src="https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=16" alt="ArtOfCode-" srcset="https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=16 1x, https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=32 2x, https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=48 3x, https://avatars2.githubusercontent.com/ArtOfCode-?v=3&s=64 4x" width="16" height="16" data-proofer-ignore="true" />ArtOfCode-</a>,
          
            <a href="https://github.com/angussidney" class="avatar-link">
              <img class="avatar avatar-small" src="https://avatars1.githubusercontent.com/angussidney?v=3&s=16" alt="angussidney" srcset="https://avatars1.githubusercontent.com/angussidney?v=3&s=16 1x, https://avatars1.githubusercontent.com/angussidney?v=3&s=32 2x, https://avatars1.githubusercontent.com/angussidney?v=3&s=48 3x, https://avatars1.githubusercontent.com/angussidney?v=3&s=64 4x" width="16" height="16" data-proofer-ignore="true" />angussidney</a>,
          
            <a href="https://github.com/tripleee" class="avatar-link">
              <img class="avatar avatar-small" src="https://avatars2.githubusercontent.com/tripleee?v=3&s=16" alt="tripleee" srcset="https://avatars2.githubusercontent.com/tripleee?v=3&s=16 1x, https://avatars2.githubusercontent.com/tripleee?v=3&s=32 2x, https://avatars2.githubusercontent.com/tripleee?v=3&s=48 3x, https://avatars2.githubusercontent.com/tripleee?v=3&s=64 4x" width="16" height="16" data-proofer-ignore="true" />tripleee</a>,
          
          and
          <a href="http://github.com/Charcoal-SE/charcoal-se.github.io/graphs/contributors">
            4 more</a>
        
          • <a href="/code">More gory details</a>
        
      </p>
      
    </div>
  </div>
  <div class="search text-center" style="display: none;">
  </div>
  <script>
    window.searchLoadPath = "/assets/search-6ad9e78a0cf31baffce21cffc74c749100f081c7988c4ca3e67fc513fdb06933.js"
    window.redirects = { "/m": "https://metasmoke.erwaysoftware.com", "/announcements": "https://charcoal-se.org///announcements/", "/smokey/Home": "https://charcoal-se.org///smokey/", "/smokey/Home": "https://charcoal-se.org///smokey/", "/smokey": "https://charcoal-se.org///smokey/", "/ms/Home": "https://charcoal-se.org///ms/", "/ms/Home": "https://charcoal-se.org///ms/", "/ms": "https://charcoal-se.org///ms/", "/userscripts/": "https://charcoal-se.org///scripts.html", "/userscripts": "https://charcoal-se.org///scripts.html",  }
  </script>
</body>
</html>
